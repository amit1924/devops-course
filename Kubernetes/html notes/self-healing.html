<!DOCTYPE html>
<html lang="en" class="dark">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes"
    />
    <title>üöë Kubernetes Self-Healing - Auto Recovery System</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
    />
    <style>
      @import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;400;500;700&family=Inter:wght@300;400;500;600;700&display=swap');

      body {
        font-family: 'Inter', sans-serif;
        background: linear-gradient(
          135deg,
          #0f172a 0%,
          #1e293b 50%,
          #334155 100%
        );
        color: #e2e8f0;
        min-height: 100vh;
        overflow-x: hidden;
      }

      .gradient-text {
        background: linear-gradient(45deg, #10b981, #3b82f6, #10b981);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        background-size: 200% auto;
        animation: gradient 3s ease infinite;
      }

      @keyframes gradient {
        0%,
        100% {
          background-position: 0% 50%;
        }
        50% {
          background-position: 100% 50%;
        }
      }

      .healing-card {
        background: rgba(30, 41, 59, 0.9);
        backdrop-filter: blur(10px);
        border-radius: 16px;
        border: 1px solid rgba(71, 85, 105, 0.3);
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
      }

      .healing-card:hover {
        transform: translateY(-3px);
        box-shadow: 0 15px 30px rgba(16, 185, 129, 0.15);
        border-color: #10b981;
      }

      .step-card {
        background: rgba(30, 41, 59, 0.8);
        border-radius: 16px;
        border: 1px solid rgba(71, 85, 105, 0.3);
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
        margin-bottom: 20px;
      }

      .step-card:hover {
        transform: translateY(-2px);
        box-shadow: 0 10px 25px rgba(16, 185, 129, 0.1);
      }

      .step-badge {
        position: absolute;
        top: -12px;
        left: 20px;
        width: 40px;
        height: 40px;
        background: linear-gradient(135deg, #10b981, #34d399);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: bold;
        color: white;
        font-size: 1.2rem;
        box-shadow: 0 5px 15px rgba(16, 185, 129, 0.3);
        z-index: 2;
      }

      .code-container {
        background: #0f172a;
        border-left: 4px solid #10b981;
        border-radius: 8px;
        font-family: 'JetBrains Mono', monospace;
        position: relative;
        overflow: hidden;
        padding: 20px;
        margin: 15px 0;
      }

      .code-text {
        color: #ffffff;
        font-size: 0.95rem;
        line-height: 1.6;
        word-break: break-word;
        padding-right: 100px;
        overflow-x: auto;
        white-space: pre-wrap;
      }

      .copy-btn-wrapper {
        position: absolute;
        top: 10px;
        right: 10px;
        z-index: 10;
      }

      .copy-btn {
        background: linear-gradient(135deg, #10b981 0%, #059669 100%);
        color: white;
        border: none;
        padding: 8px 16px;
        border-radius: 6px;
        font-weight: 600;
        font-size: 0.85rem;
        transition: all 0.3s ease;
        cursor: pointer;
        min-height: 36px;
        display: flex;
        align-items: center;
        justify-content: center;
        white-space: nowrap;
      }

      .copy-btn:hover {
        background: linear-gradient(135deg, #34d399 0%, #10b981 100%);
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(16, 185, 129, 0.3);
      }

      .copy-btn.copied {
        background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
      }

      .terminal-output {
        background: #1e293b;
        border-radius: 8px;
        padding: 15px;
        margin: 10px 0;
        font-family: 'JetBrains Mono', monospace;
        overflow-x: auto;
      }

      .terminal-line {
        margin: 5px 0;
        color: #e2e8f0;
      }

      .terminal-prompt {
        color: #10b981;
        font-weight: bold;
      }

      .terminal-success {
        color: #22c55e;
      }

      .terminal-warning {
        color: #f59e0b;
      }

      .terminal-error {
        color: #ef4444;
      }

      .health-visual {
        display: flex;
        flex-direction: column;
        align-items: center;
        padding: 30px;
        background: rgba(15, 23, 42, 0.5);
        border-radius: 12px;
        margin: 20px 0;
        border: 2px solid #334155;
        position: relative;
        min-height: 300px;
      }

      .pod-cluster {
        display: flex;
        justify-content: center;
        gap: 20px;
        margin: 20px 0;
        flex-wrap: wrap;
      }

      .pod-box {
        color: white;
        padding: 15px;
        border-radius: 10px;
        text-align: center;
        min-width: 120px;
        position: relative;
        transition: all 0.5s ease;
      }

      .pod-healthy {
        background: linear-gradient(135deg, #10b981, #059669);
        border: 2px solid #10b981;
        animation: pulse-green 2s infinite;
      }

      .pod-dead {
        background: linear-gradient(135deg, #ef4444, #dc2626);
        border: 2px solid #ef4444;
        animation: shake 0.5s ease-in-out;
      }

      .pod-recovering {
        background: linear-gradient(135deg, #f59e0b, #d97706);
        border: 2px solid #f59e0b;
        animation: pulse-orange 1.5s infinite;
      }

      @keyframes pulse-green {
        0%,
        100% {
          transform: scale(1);
          box-shadow: 0 0 15px rgba(16, 185, 129, 0.3);
        }
        50% {
          transform: scale(1.05);
          box-shadow: 0 0 25px rgba(16, 185, 129, 0.6);
        }
      }

      @keyframes pulse-orange {
        0%,
        100% {
          transform: scale(1);
          box-shadow: 0 0 15px rgba(245, 158, 11, 0.3);
        }
        50% {
          transform: scale(1.05);
          box-shadow: 0 0 25px rgba(245, 158, 11, 0.6);
        }
      }

      @keyframes shake {
        0%,
        100% {
          transform: translateX(0);
        }
        25% {
          transform: translateX(-5px);
        }
        75% {
          transform: translateX(5px);
        }
      }

      @keyframes fadeOut {
        from {
          opacity: 1;
          transform: scale(1);
        }
        to {
          opacity: 0;
          transform: scale(0.8);
        }
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: scale(0.8);
        }
        to {
          opacity: 1;
          transform: scale(1);
        }
      }

      .fade-out {
        animation: fadeOut 0.5s ease forwards;
      }

      .fade-in {
        animation: fadeIn 0.5s ease forwards;
      }

      .healing-animation {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        font-size: 2rem;
        color: #10b981;
        z-index: 10;
        display: none;
      }

      .health-box {
        background: linear-gradient(
          135deg,
          rgba(16, 185, 129, 0.1),
          rgba(5, 150, 105, 0.1)
        );
        border-left: 4px solid #10b981;
        border-radius: 0 8px 8px 0;
        padding: 15px;
        margin: 15px 0;
      }

      .warning-box {
        background: linear-gradient(
          135deg,
          rgba(245, 158, 11, 0.1),
          rgba(217, 119, 6, 0.1)
        );
        border-left: 4px solid #f59e0b;
        border-radius: 0 8px 8px 0;
        padding: 15px;
        margin: 15px 0;
      }

      .error-box {
        background: linear-gradient(
          135deg,
          rgba(239, 68, 68, 0.1),
          rgba(220, 38, 38, 0.1)
        );
        border-left: 4px solid #ef4444;
        border-radius: 0 8px 8px 0;
        padding: 15px;
        margin: 15px 0;
      }

      .info-box {
        background: linear-gradient(
          135deg,
          rgba(59, 130, 246, 0.1),
          rgba(37, 99, 235, 0.1)
        );
        border-left: 4px solid #3b82f6;
        border-radius: 0 8px 8px 0;
        padding: 15px;
        margin: 15px 0;
      }

      .demo-controls {
        display: flex;
        gap: 10px;
        margin: 15px 0;
        flex-wrap: wrap;
        justify-content: center;
      }

      .demo-btn {
        background: linear-gradient(135deg, #10b981, #059669);
        color: white;
        border: none;
        padding: 12px 24px;
        border-radius: 8px;
        cursor: pointer;
        transition: all 0.3s ease;
        font-weight: 600;
      }

      .demo-btn:hover {
        background: linear-gradient(135deg, #34d399, #10b981);
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(16, 185, 129, 0.3);
      }

      .demo-btn.delete {
        background: linear-gradient(135deg, #ef4444, #dc2626);
      }

      .demo-btn.delete:hover {
        background: linear-gradient(135deg, #f87171, #ef4444);
      }

      .demo-btn.crash {
        background: linear-gradient(135deg, #f59e0b, #d97706);
      }

      .demo-btn.crash:hover {
        background: linear-gradient(135deg, #fbbf24, #f59e0b);
      }

      .status-indicator {
        display: inline-flex;
        align-items: center;
        padding: 4px 12px;
        border-radius: 20px;
        font-size: 0.85rem;
        font-weight: 600;
      }

      .status-running {
        background: rgba(16, 185, 129, 0.2);
        color: #10b981;
        border: 1px solid rgba(16, 185, 129, 0.4);
      }

      .status-terminating {
        background: rgba(239, 68, 68, 0.2);
        color: #ef4444;
        border: 1px solid rgba(239, 68, 68, 0.4);
      }

      .status-pending {
        background: rgba(245, 158, 11, 0.2);
        color: #f59e0b;
        border: 1px solid rgba(245, 158, 11, 0.4);
      }

      .probe-visual {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 15px;
        margin: 20px 0;
      }

      .probe-box {
        background: rgba(30, 41, 59, 0.6);
        padding: 20px;
        border-radius: 10px;
        text-align: center;
      }

      .probe-box.liveness {
        border-top: 4px solid #ef4444;
      }

      .probe-box.readiness {
        border-top: 4px solid #3b82f6;
      }

      .probe-box.startup {
        border-top: 4px solid #8b5cf6;
      }

      .comparison-table {
        width: 100%;
        border-collapse: collapse;
        margin: 20px 0;
        background: rgba(30, 41, 59, 0.5);
        border-radius: 10px;
        overflow: hidden;
      }

      .comparison-table th {
        background: rgba(16, 185, 129, 0.3);
        padding: 15px;
        text-align: left;
        color: #e2e8f0;
        border-bottom: 2px solid #334155;
      }

      .comparison-table td {
        padding: 12px 15px;
        border-bottom: 1px solid #334155;
        color: #cbd5e1;
      }

      .comparison-table tr:hover {
        background: rgba(16, 185, 129, 0.1);
      }

      .healing-timeline {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 20px;
        background: rgba(15, 23, 42, 0.3);
        border-radius: 12px;
        margin: 20px 0;
        position: relative;
      }

      .timeline-point {
        display: flex;
        flex-direction: column;
        align-items: center;
        position: relative;
        z-index: 2;
      }

      .timeline-dot {
        width: 40px;
        height: 40px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: bold;
        margin-bottom: 10px;
      }

      .timeline-line {
        position: absolute;
        top: 20px;
        left: 10%;
        right: 10%;
        height: 4px;
        background: linear-gradient(90deg, #ef4444, #f59e0b, #10b981);
        border-radius: 2px;
        z-index: 1;
      }

      .heartbeat {
        animation: heartbeat 1.5s ease-in-out infinite;
      }

      @keyframes heartbeat {
        0%,
        100% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.1);
        }
      }

      /* Mobile-specific improvements */
      @media (max-width: 767px) {
        .healing-card,
        .step-card {
          padding: 20px 15px !important;
          margin: 8px 0;
        }

        .code-container {
          padding: 15px;
          padding-right: 80px;
        }

        .code-text {
          font-size: 0.85rem;
          padding-right: 70px;
        }

        .copy-btn {
          padding: 6px 12px;
          font-size: 0.8rem;
          min-height: 32px;
        }

        .pod-cluster {
          gap: 10px;
        }

        .pod-box {
          min-width: 100px;
          padding: 10px;
          font-size: 0.9rem;
        }

        .probe-visual {
          grid-template-columns: 1fr;
        }
      }

      /* Touch-friendly improvements */
      .touch-target {
        min-height: 44px;
        min-width: 44px;
      }

      /* Syntax highlighting */
      .code-keyword {
        color: #c586c0;
      }
      .code-string {
        color: #ce9178;
      }
      .code-number {
        color: #b5cea8;
      }
      .code-comment {
        color: #6a9955;
      }
    </style>
  </head>
  <body class="min-h-screen p-4 md:p-6 lg:p-8">
    <div class="max-w-6xl mx-auto">
      <!-- Hero Header -->
      <header class="text-center mb-10 md:mb-12">
        <div class="healing-card p-6 mb-8">
          <h1
            class="text-3xl md:text-4xl lg:text-5xl font-bold gradient-text mb-4"
          >
            üè• Kubernetes Self-Healing System
          </h1>
          <p class="text-xl md:text-2xl text-slate-300 mb-6">
            Auto-Recovery When Things Break - Zero Human Intervention! ü§ñ
          </p>

          <div class="flex flex-wrap justify-center gap-3 mb-6">
            <span
              class="px-4 py-2 bg-green-500/20 text-green-300 rounded-full border border-green-500/30"
            >
              <i class="fas fa-heartbeat mr-2"></i>Auto Recovery
            </span>
            <span
              class="px-4 py-2 bg-red-500/20 text-red-300 rounded-full border border-red-500/30"
            >
              <i class="fas fa-skull-crossbones mr-2"></i>Pod Death Detection
            </span>
            <span
              class="px-4 py-2 bg-blue-500/20 text-blue-300 rounded-full border border-blue-500/30"
            >
              <i class="fas fa-stethoscope mr-2"></i>Health Probes
            </span>
            <span
              class="px-4 py-2 bg-purple-500/20 text-purple-300 rounded-full border border-purple-500/30"
            >
              <i class="fas fa-shield-alt mr-2"></i>Always Available
            </span>
          </div>

          <div class="health-visual">
            <div class="healing-animation" id="healingAnimation">
              üíö Healing...
            </div>
            <div class="pod-cluster" id="podCluster">
              <!-- Pods will be dynamically added here -->
            </div>
            <div class="text-sm text-slate-400 mt-4">
              <i class="fas fa-info-circle mr-2"></i>
              Click "Kill Pod" to see self-healing in action!
            </div>
          </div>
        </div>
      </header>

      <!-- What is Self-Healing? -->
      <section class="healing-card p-5 md:p-6 mb-8">
        <h2 class="text-2xl md:text-3xl font-bold text-green-300 mb-6">
          <i class="fas fa-heartbeat mr-3 heartbeat"></i>‚ù§Ô∏è What is
          Self-Healing?
        </h2>

        <div class="health-box">
          <p class="text-slate-300">
            <i class="fas fa-robot text-green-400 mr-2"></i>
            <strong>Kubernetes automatically:</strong>
          </p>
          <ul class="space-y-2 text-slate-300 mt-3">
            <li class="flex items-start">
              <i class="fas fa-search text-red-400 mt-1 mr-2"></i>
              <span><strong>Detects when a pod dies</strong> ‚ùå</span>
            </li>
            <li class="flex items-start">
              <i class="fas fa-plus-circle text-green-400 mt-1 mr-2"></i>
              <span><strong>Recreates a new one automatically</strong> ‚úîÔ∏è</span>
            </li>
            <li class="flex items-start">
              <i class="fas fa-sync-alt text-blue-400 mt-1 mr-2"></i>
              <span
                ><strong
                  >Keeps required number of replicas running always</strong
                ></span
              >
            </li>
          </ul>
          <p class="text-slate-300 mt-4">
            <i class="fas fa-smile text-yellow-400 mr-2"></i>
            <strong
              >So your app stays alive‚Ä¶ even if something breaks üòé</strong
            >
          </p>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mt-6">
          <div class="info-box">
            <h3 class="font-bold text-blue-300 mb-3">
              <i class="fas fa-brain mr-2"></i>üß† Why does it work?
            </h3>
            <p class="text-slate-300 mb-2">
              <strong>Because you're using a Deployment.</strong><br />
              <code class="text-cyan-300"
                >Deployment ‚Üí maintains replica count.</code
              >
            </p>
            <div class="code-container mt-3">
              <div class="code-text" id="replicaExample">
                apiVersion: apps/v1 kind: Deployment metadata: name:
                express-demo-deploy spec: replicas: 3 # ‚Üê Magic number!
                selector: matchLabels: app: express-demo template: # ... pod
                template
              </div>
            </div>
          </div>

          <div class="success-box">
            <h3 class="font-bold text-green-300 mb-3">
              <i class="fas fa-bullseye mr-2"></i>üéØ Example: replicas: 3
            </h3>
            <p class="text-slate-300">
              Means: <strong>"Kubernetes‚Ä¶ ALWAYS keep 3 pods running"</strong>
            </p>
            <div class="mt-3">
              <p class="text-slate-300">
                <i class="fas fa-arrow-right text-green-400 mr-2"></i>
                If 1 dies ‚Üí Kubernetes creates a new one.
              </p>
              <p class="text-slate-300 mt-2">
                <i class="fas fa-arrow-right text-green-400 mr-2"></i>
                If all die ‚Üí Kubernetes recreates all 3.
              </p>
              <p class="text-slate-300 mt-2">
                <i class="fas fa-arrow-right text-green-400 mr-2"></i>
                Always maintaining replica count!
              </p>
            </div>
          </div>
        </div>

        <div class="warning-box mt-6">
          <h4 class="font-bold text-amber-300 mb-2">
            <i class="fas fa-exclamation-triangle mr-2"></i>Current Setup
          </h4>
          <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
            <div class="text-center">
              <div class="text-sm text-slate-400">Deployment</div>
              <code class="text-cyan-300">express-demo-deploy</code>
            </div>
            <div class="text-center">
              <div class="text-sm text-slate-400">Replicas</div>
              <span class="status-indicator status-running">3 pods</span>
            </div>
            <div class="text-center">
              <div class="text-sm text-slate-400">Image</div>
              <code class="text-green-300">express-demo:v3</code>
            </div>
            <div class="text-center">
              <div class="text-sm text-slate-400">Status</div>
              <span class="status-indicator status-running">Healthy</span>
            </div>
          </div>
        </div>
      </section>

      <!-- Step 1: Check Current Pods -->
      <section class="step-card p-5 md:p-6">
        <div class="step-badge">1</div>
        <div class="pt-8">
          <h2 class="text-xl md:text-2xl font-bold text-blue-300 mb-4">
            <i class="fas fa-vial mr-3"></i>üß™ Step 1 ‚Äî Check Current Status
          </h2>

          <div class="code-container">
            <div class="code-text" id="checkPods">
              # Check current running pods kubectl get pods # Watch pods in
              real-time kubectl get pods -w
            </div>
            <div class="copy-btn-wrapper">
              <button
                class="copy-btn no-select"
                onclick="copyCode('checkPods')"
              >
                <i class="fas fa-copy"></i> Copy
              </button>
            </div>
          </div>

          <div class="terminal-output">
            <div class="terminal-line">
              <span class="terminal-prompt">$</span> kubectl get pods
            </div>
            <div class="terminal-line ml-4">
              NAME&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;READY&nbsp;&nbsp;STATUS&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RESTARTS&nbsp;&nbsp;AGE
            </div>
            <div class="terminal-line ml-4 terminal-success">
              express-demo-deploy-5fb9647976-tcbkd&nbsp;&nbsp;1/1&nbsp;&nbsp;&nbsp;&nbsp;Running&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;115m
            </div>
            <div class="terminal-line ml-4 terminal-success">
              express-demo-deploy-5fb9647976-snlmv&nbsp;&nbsp;1/1&nbsp;&nbsp;&nbsp;&nbsp;Running&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2m
            </div>
            <div class="terminal-line ml-4 terminal-success">
              express-demo-deploy-5fb9647976-5mj98&nbsp;&nbsp;1/1&nbsp;&nbsp;&nbsp;&nbsp;Running&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2m
            </div>
            <div class="terminal-line">
              <span class="terminal-prompt">$</span> kubectl get pods -w
            </div>
            <div class="terminal-line ml-4">
              <i class="fas fa-eye text-blue-400 mr-2"></i>
              Watching pods live... (Press Ctrl+C to stop)
            </div>
          </div>

          <div class="health-box mt-4">
            <h4 class="font-bold text-green-300 mb-2">
              <i class="fas fa-check-circle mr-2"></i>‚úÖ All Systems Go!
            </h4>
            <p class="text-slate-300">
              You have <code class="text-green-300">3 pods</code> running
              healthy. Now let's break something! üòà
            </p>
          </div>

          <div class="demo-controls">
            <button class="demo-btn" onclick="initializePods()">
              <i class="fas fa-sync-alt mr-2"></i>Reset Pods
            </button>
          </div>
        </div>
      </section>

      <!-- Step 2: Delete a Pod -->
      <section class="step-card p-5 md:p-6">
        <div class="step-badge">2</div>
        <div class="pt-8">
          <h2 class="text-xl md:text-2xl font-bold text-red-300 mb-4">
            <i class="fas fa-bomb mr-3"></i>üß® Step 2 ‚Äî Delete a Pod Manually
          </h2>

          <div class="warning-box">
            <p class="text-slate-300">
              <i class="fas fa-exclamation-triangle text-amber-300 mr-2"></i>
              <strong>Pick one pod name and delete it:</strong> Let's see
              Kubernetes' magic!
            </p>
          </div>

          <div class="code-container">
            <div class="code-text" id="deletePod">
              # Delete a specific pod kubectl delete pod
              express-demo-deploy-XXXXXX # Now watch what happens kubectl get
              pods -w
            </div>
            <div class="copy-btn-wrapper">
              <button
                class="copy-btn no-select"
                onclick="copyCode('deletePod')"
              >
                <i class="fas fa-copy"></i> Copy
              </button>
            </div>
          </div>

          <div class="terminal-output">
            <div class="terminal-line">
              <span class="terminal-prompt">$</span> kubectl delete pod
              express-demo-deploy-5fb9647976-6959h
            </div>
            <div class="terminal-line ml-4 terminal-warning">
              pod "express-demo-deploy-5fb9647976-6959h" deleted
            </div>
            <div class="terminal-line">
              <span class="terminal-prompt">$</span> kubectl get pods -w
            </div>
            <div class="terminal-line ml-4 terminal-error">
              <i class="fas fa-skull-crossbones mr-2"></i>
              express-demo-deploy-5fb9647976-6959h&nbsp;&nbsp;1/1&nbsp;&nbsp;&nbsp;&nbsp;Terminating&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;5m
            </div>
            <div class="terminal-line ml-4 terminal-success">
              <i class="fas fa-plus-circle mr-2"></i>
              express-demo-deploy-5fb9647976-7pvjn&nbsp;&nbsp;0/1&nbsp;&nbsp;&nbsp;&nbsp;Pending&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0s
            </div>
            <div class="terminal-line ml-4 terminal-success">
              <i class="fas fa-check-circle mr-2"></i>
              express-demo-deploy-5fb9647976-7pvjn&nbsp;&nbsp;1/1&nbsp;&nbsp;&nbsp;&nbsp;Running&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;7s
            </div>
          </div>

          <div class="demo-controls">
            <button class="demo-btn delete" onclick="killRandomPod()">
              <i class="fas fa-skull-crossbones mr-2"></i>Kill Random Pod
            </button>
            <button class="demo-btn" onclick="watchPods()">
              <i class="fas fa-eye mr-2"></i>Watch Live
            </button>
          </div>

          <div class="healing-timeline mt-6">
            <div class="timeline-line"></div>

            <div class="timeline-point">
              <div
                class="timeline-dot"
                style="background: linear-gradient(135deg, #10b981, #059669)"
              >
                <i class="fas fa-check"></i>
              </div>
              <div class="text-sm text-slate-300">3 Pods Healthy</div>
              <div class="text-xs text-slate-400">Initial State</div>
            </div>

            <div class="timeline-point">
              <div
                class="timeline-dot"
                style="background: linear-gradient(135deg, #ef4444, #dc2626)"
              >
                <i class="fas fa-times"></i>
              </div>
              <div class="text-sm text-slate-300">Pod Deleted</div>
              <div class="text-xs text-slate-400">Manual Kill</div>
            </div>

            <div class="timeline-point">
              <div
                class="timeline-dot"
                style="background: linear-gradient(135deg, #f59e0b, #d97706)"
              >
                <i class="fas fa-sync-alt"></i>
              </div>
              <div class="text-sm text-slate-300">K8s Detects</div>
              <div class="text-xs text-slate-400">Auto-Detection</div>
            </div>

            <div class="timeline-point">
              <div
                class="timeline-dot"
                style="background: linear-gradient(135deg, #3b82f6, #1d4ed8)"
              >
                <i class="fas fa-plus"></i>
              </div>
              <div class="text-sm text-slate-300">New Pod</div>
              <div class="text-xs text-slate-400">Auto-Creation</div>
            </div>

            <div class="timeline-point">
              <div
                class="timeline-dot"
                style="background: linear-gradient(135deg, #10b981, #059669)"
              >
                <i class="fas fa-heartbeat"></i>
              </div>
              <div class="text-sm text-slate-300">3 Pods Healthy</div>
              <div class="text-xs text-slate-400">Recovered!</div>
            </div>
          </div>

          <div class="success-box mt-6">
            <h4 class="font-bold text-green-300 mb-2">
              <i class="fas fa-magic mr-2"></i>You Will See:
            </h4>
            <ul class="space-y-2 text-slate-300">
              <li class="flex items-start">
                <i class="fas fa-times text-red-400 mt-1 mr-2"></i>
                <span><strong>‚ùå Pod gets deleted</strong></span>
              </li>
              <li class="flex items-start">
                <i class="fas fa-plus text-green-400 mt-1 mr-2"></i>
                <span><strong>üü¢ New pod created automatically</strong></span>
              </li>
              <li class="flex items-start">
                <i class="fas fa-robot text-blue-400 mt-1 mr-2"></i>
                <span><strong>This is self-healing üéØ</strong></span>
              </li>
            </ul>
            <p class="text-slate-300 mt-3">
              <i class="fas fa-peace text-purple-400 mr-2"></i>
              <strong>No DevOps panic‚Ä¶ Kubernetes handled it üí™</strong>
            </p>
          </div>
        </div>
      </section>

      <!-- Step 3: Kill All Pods -->
      <section class="step-card p-5 md:p-6">
        <div class="step-badge">3</div>
        <div class="pt-8">
          <h2 class="text-xl md:text-2xl font-bold text-amber-300 mb-4">
            <i class="fas fa-fire mr-3"></i>üî• Step 3 ‚Äî Kill ALL Pods (Nuclear
            Option!)
          </h2>

          <div class="warning-box">
            <p class="text-slate-300">
              <i class="fas fa-radiation text-red-400 mr-2"></i>
              <strong>Let's see what happens when everything breaks! üòÑ</strong>
            </p>
          </div>

          <div class="code-container">
            <div class="code-text" id="deleteAllPods">
              # Delete ALL pods in deployment kubectl delete pod --all # Watch
              the magic happen kubectl get pods -w
            </div>
            <div class="copy-btn-wrapper">
              <button
                class="copy-btn no-select"
                onclick="copyCode('deleteAllPods')"
              >
                <i class="fas fa-copy"></i> Copy
              </button>
            </div>
          </div>

          <div class="terminal-output">
            <div class="terminal-line">
              <span class="terminal-prompt">$</span> kubectl delete pod --all
            </div>
            <div class="terminal-line ml-4 terminal-error">
              pod "express-demo-deploy-5fb9647976-7pvjn" deleted
            </div>
            <div class="terminal-line ml-4 terminal-error">
              pod "express-demo-deploy-5fb9647976-bffr9" deleted
            </div>
            <div class="terminal-line ml-4 terminal-error">
              pod "express-demo-deploy-5fb9647976-zmpqc" deleted
            </div>
            <div class="terminal-line ml-4 terminal-error">
              pod "my-node-app" deleted
            </div>
            <div class="terminal-line">
              <span class="terminal-prompt">$</span> kubectl get pods -w
            </div>
            <div class="terminal-line ml-4 terminal-success">
              <i class="fas fa-plus-circle mr-2"></i>
              express-demo-deploy-5fb9647976-89ggd&nbsp;&nbsp;0/1&nbsp;&nbsp;&nbsp;&nbsp;Pending&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0s
            </div>
            <div class="terminal-line ml-4 terminal-success">
              <i class="fas fa-plus-circle mr-2"></i>
              express-demo-deploy-5fb9647976-9t9tv&nbsp;&nbsp;0/1&nbsp;&nbsp;&nbsp;&nbsp;Pending&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0s
            </div>
            <div class="terminal-line ml-4 terminal-success">
              <i class="fas fa-plus-circle mr-2"></i>
              express-demo-deploy-5fb9647976-zjlkq&nbsp;&nbsp;0/1&nbsp;&nbsp;&nbsp;&nbsp;Pending&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0s
            </div>
            <div class="terminal-line ml-4">
              <i class="fas fa-sync-alt fa-spin text-blue-400 mr-2"></i>
              Kubernetes: "Bro chill‚Ä¶ I'll restart everything üòé"
            </div>
          </div>

          <div class="demo-controls">
            <button class="demo-btn delete" onclick="killAllPods()">
              <i class="fas fa-radiation mr-2"></i>Kill All Pods
            </button>
          </div>

          <div class="health-box mt-6">
            <h4 class="font-bold text-green-300 mb-2">
              <i class="fas fa-shield-alt mr-2"></i>üí™ Kubernetes Response:
            </h4>
            <ul class="space-y-2 text-slate-300">
              <li class="flex items-start">
                <i class="fas fa-robot text-blue-400 mt-1 mr-2"></i>
                <span><strong>"I see all pods are gone"</strong></span>
              </li>
              <li class="flex items-start">
                <i class="fas fa-database text-purple-400 mt-1 mr-2"></i>
                <span><strong>"Let me check the Deployment spec"</strong></span>
              </li>
              <li class="flex items-start">
                <i class="fas fa-cogs text-amber-400 mt-1 mr-2"></i>
                <span><strong>"Ah, I need 3 replicas"</strong></span>
              </li>
              <li class="flex items-start">
                <i class="fas fa-bolt text-green-400 mt-1 mr-2"></i>
                <span><strong>"Creating 3 new pods immediately!"</strong></span>
              </li>
            </ul>
          </div>

          <div class="comparison-table mt-6 overflow-x-auto">
            <table>
              <thead>
                <tr>
                  <th>Scenario</th>
                  <th>Kubernetes Action</th>
                  <th>Downtime</th>
                  <th>Human Needed?</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>1 Pod dies</td>
                  <td>Recreate 1 pod</td>
                  <td>Zero (if replicas > 1)</td>
                  <td>‚ùå No</td>
                </tr>
                <tr>
                  <td>All Pods die</td>
                  <td>Recreate all pods</td>
                  <td>Brief (seconds)</td>
                  <td>‚ùå No</td>
                </tr>
                <tr>
                  <td>Node dies</td>
                  <td>Reschedule pods</td>
                  <td>Seconds to minutes</td>
                  <td>‚ùå No</td>
                </tr>
                <tr>
                  <td>App crashes inside pod</td>
                  <td>??? Need probes!</td>
                  <td>Depends</td>
                  <td>‚ö†Ô∏è Maybe</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </section>

      <!-- Step 4: The Limitation -->
      <section class="step-card p-5 md:p-6">
        <div class="step-badge">4</div>
        <div class="pt-8">
          <h2 class="text-xl md:text-2xl font-bold text-purple-300 mb-4">
            <i class="fas fa-question-circle mr-3"></i>üß† But Wait... What If
            App INSIDE Pod Crashes?
          </h2>

          <div class="error-box">
            <p class="text-slate-300">
              <i class="fas fa-exclamation-circle text-red-400 mr-2"></i>
              <strong>Good question! ‚ù§Ô∏è</strong><br />
              Right now, Kubernetes only checks
              <strong>container existence</strong>, not
              <strong>app health</strong>.
            </p>
          </div>

          <div class="health-visual" style="min-height: 200px; margin: 20px 0">
            <div class="probe-visual">
              <div class="probe-box">
                <div class="text-3xl mb-3">ü§ñ</div>
                <h4 class="font-bold text-slate-300">Current</h4>
                <p class="text-sm text-slate-400">
                  Only checks if container is running
                </p>
                <div class="mt-2">
                  <span class="status-indicator status-pending">Basic</span>
                </div>
              </div>
              <div class="probe-box liveness">
                <div class="text-3xl mb-3">üè•</div>
                <h4 class="font-bold text-red-300">Liveness Probe</h4>
                <p class="text-sm text-slate-400">Restart crashed app</p>
                <div class="mt-2">
                  <span class="status-indicator status-running">Advanced</span>
                </div>
              </div>
              <div class="probe-box readiness">
                <div class="text-3xl mb-3">üö¶</div>
                <h4 class="font-bold text-blue-300">Readiness Probe</h4>
                <p class="text-sm text-slate-400">
                  Don't send traffic until ready
                </p>
                <div class="mt-2">
                  <span class="status-indicator status-running">Advanced</span>
                </div>
              </div>
            </div>
          </div>

          <div class="info-box">
            <h4 class="font-bold text-blue-300 mb-2">
              <i class="fas fa-stethoscope mr-2"></i>To make Kubernetes SMART:
            </h4>
            <ul class="space-y-2 text-slate-300">
              <li class="flex items-start">
                <i class="fas fa-heartbeat text-red-400 mt-1 mr-2"></i>
                <span
                  ><strong>Liveness Probe ‚Üí</strong> Restart container if app
                  crashes</span
                >
              </li>
              <li class="flex items-start">
                <i class="fas fa-check-circle text-green-400 mt-1 mr-2"></i>
                <span
                  ><strong>Readiness Probe ‚Üí</strong> Don't send traffic until
                  app is ready</span
                >
              </li>
              <li class="flex items-start">
                <i class="fas fa-rocket text-purple-400 mt-1 mr-2"></i>
                <span
                  ><strong>Startup Probe ‚Üí</strong> For slow-starting apps</span
                >
              </li>
            </ul>
          </div>
        </div>
      </section>

      <!-- Step 5: Add Health Probes -->
      <section class="step-card p-5 md:p-6">
        <div class="step-badge">5</div>
        <div class="pt-8">
          <h2 class="text-xl md:text-2xl font-bold text-green-300 mb-4">
            <i class="fas fa-hospital mr-3"></i>üè• Step 5 ‚Äî Add Liveness &
            Readiness Probes (Professional Grade)
          </h2>

          <div class="code-container">
            <div class="code-text" id="addProbes">
              # Edit your deployment YAML # Add health probes section
              containers: - name: express-container image: express-demo:v3
              ports: - containerPort: 3000 # Liveness Probe: Restart if app is
              dead livenessProbe: httpGet: path: /health # Your health endpoint
              port: 3000 initialDelaySeconds: 10 # Wait 10s after start
              periodSeconds: 10 # Check every 10s failureThreshold: 3 # 3
              failures = restart # Readiness Probe: Traffic control
              readinessProbe: httpGet: path: /ready # Your readiness endpoint
              port: 3000 initialDelaySeconds: 5 # Wait 5s after start
              periodSeconds: 5 # Check every 5s # Startup Probe (optional, for
              slow apps) startupProbe: httpGet: path: / port: 3000
              failureThreshold: 30 # Try 30 times periodSeconds: 10 # Every 10
              seconds
            </div>
            <div class="copy-btn-wrapper">
              <button
                class="copy-btn no-select"
                onclick="copyCode('addProbes')"
              >
                <i class="fas fa-copy"></i> Copy
              </button>
            </div>
          </div>

          <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mt-6">
            <div class="p-4 bg-slate-800/50 rounded border-l-4 border-red-500">
              <h4 class="font-bold text-red-300 mb-2">
                <i class="fas fa-heartbeat mr-2"></i>Liveness Probe
              </h4>
              <p class="text-slate-300 text-sm">
                <strong>Purpose:</strong> Is the app alive?<br />
                <strong>Action:</strong> Restart container if fails<br />
                <strong>Example:</strong> Check /health endpoint
              </p>
            </div>
            <div class="p-4 bg-slate-800/50 rounded border-l-4 border-blue-500">
              <h4 class="font-bold text-blue-300 mb-2">
                <i class="fas fa-check-circle mr-2"></i>Readiness Probe
              </h4>
              <p class="text-slate-300 text-sm">
                <strong>Purpose:</strong> Is the app ready for traffic?<br />
                <strong>Action:</strong> Remove from load balancer<br />
                <strong>Example:</strong> Check /ready endpoint
              </p>
            </div>
            <div
              class="p-4 bg-slate-800/50 rounded border-l-4 border-purple-500"
            >
              <h4 class="font-bold text-purple-300 mb-2">
                <i class="fas fa-rocket mr-2"></i>Startup Probe
              </h4>
              <p class="text-slate-300 text-sm">
                <strong>Purpose:</strong> Has the app started?<br />
                <strong>Action:</strong> Delay liveness checks<br />
                <strong>Example:</strong> For Java/Node slow starters
              </p>
            </div>
          </div>

          <div class="code-container mt-6">
            <div class="code-text" id="applyProbes">
              # Apply the updated deployment kubectl apply -f
              express-deploy.yaml # Check if probes are working kubectl describe
              pod express-demo-deploy-xxxxx | grep -A 10 "Liveness"
            </div>
            <div class="copy-btn-wrapper">
              <button
                class="copy-btn no-select"
                onclick="copyCode('applyProbes')"
              >
                <i class="fas fa-copy"></i> Copy
              </button>
            </div>
          </div>
        </div>
      </section>

      <!-- Step 6: Crash App Inside Pod -->
      <section class="step-card p-5 md:p-6">
        <div class="step-badge">6</div>
        <div class="pt-8">
          <h2 class="text-xl md:text-2xl font-bold text-red-300 mb-4">
            <i class="fas fa-bug mr-3"></i>üí£ Step 6 ‚Äî Now Crash Your App INSIDE
            Pod
          </h2>

          <div class="warning-box">
            <p class="text-slate-300">
              <i class="fas fa-flask text-amber-300 mr-2"></i>
              <strong
                >Let's simulate a real app crash and watch Kubernetes heal
                it!</strong
              >
            </p>
          </div>

          <div class="code-container">
            <div class="code-text" id="crashApp">
              # 1. Enter a running pod kubectl exec -it PODNAME -- sh # 2.
              Inside the pod, kill the Node.js process pkill node # 3. Exit the
              pod exit # 4. Watch Kubernetes restart the container kubectl get
              pods -w
            </div>
            <div class="copy-btn-wrapper">
              <button class="copy-btn no-select" onclick="copyCode('crashApp')">
                <i class="fas fa-copy"></i> Copy
              </button>
            </div>
          </div>

          <div class="terminal-output">
            <div class="terminal-line">
              <span class="terminal-prompt">$</span> kubectl exec -it
              express-demo-deploy-xxxxx -- sh
            </div>
            <div class="terminal-line ml-4">/app # pkill node</div>
            <div class="terminal-line ml-4">/app # exit</div>
            <div class="terminal-line">
              <span class="terminal-prompt">$</span> kubectl get pods -w
            </div>
            <div class="terminal-line ml-4 terminal-error">
              <i class="fas fa-skull-crossbones mr-2"></i>
              express-demo-deploy-xxxxx&nbsp;&nbsp;0/1&nbsp;&nbsp;&nbsp;&nbsp;CrashLoopBackOff&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1m
            </div>
            <div class="terminal-line ml-4 terminal-warning">
              <i class="fas fa-stethoscope mr-2"></i>
              Liveness probe failing...
            </div>
            <div class="terminal-line ml-4 terminal-success">
              <i class="fas fa-heartbeat mr-2"></i>
              Kubernetes restarting container...
            </div>
            <div class="terminal-line ml-4 terminal-success">
              <i class="fas fa-check-circle mr-2"></i>
              express-demo-deploy-yyyyy&nbsp;&nbsp;1/1&nbsp;&nbsp;&nbsp;&nbsp;Running&nbsp;&nbsp;&nbsp;&nbsp;1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;5s
            </div>
          </div>

          <div class="demo-controls">
            <button class="demo-btn crash" onclick="simulateAppCrash()">
              <i class="fas fa-bug mr-2"></i>Simulate App Crash
            </button>
            <button class="demo-btn" onclick="showRestartAnimation()">
              <i class="fas fa-sync-alt mr-2"></i>Show Auto-Restart
            </button>
          </div>

          <div class="healing-timeline mt-6">
            <div class="timeline-line"></div>

            <div class="timeline-point">
              <div
                class="timeline-dot"
                style="background: linear-gradient(135deg, #10b981, #059669)"
              >
                <i class="fas fa-check"></i>
              </div>
              <div class="text-sm text-slate-300">App Running</div>
              <div class="text-xs text-slate-400">Healthy</div>
            </div>

            <div class="timeline-point">
              <div
                class="timeline-dot"
                style="background: linear-gradient(135deg, #ef4444, #dc2626)"
              >
                <i class="fas fa-bug"></i>
              </div>
              <div class="text-sm text-slate-300">App Crashes</div>
              <div class="text-xs text-slate-400">Internal Error</div>
            </div>

            <div class="timeline-point">
              <div
                class="timeline-dot"
                style="background: linear-gradient(135deg, #f59e0b, #d97706)"
              >
                <i class="fas fa-stethoscope"></i>
              </div>
              <div class="text-sm text-slate-300">Liveness Fails</div>
              <div class="text-xs text-slate-400">Probe Detects</div>
            </div>

            <div class="timeline-point">
              <div
                class="timeline-dot"
                style="background: linear-gradient(135deg, #3b82f6, #1d4ed8)"
              >
                <i class="fas fa-redo"></i>
              </div>
              <div class="text-sm text-slate-300">Container Restart</div>
              <div class="text-xs text-slate-400">Auto-Healing</div>
            </div>

            <div class="timeline-point">
              <div
                class="timeline-dot"
                style="background: linear-gradient(135deg, #10b981, #059669)"
              >
                <i class="fas fa-heartbeat"></i>
              </div>
              <div class="text-sm text-slate-300">App Healthy</div>
              <div class="text-xs text-slate-400">Recovered!</div>
            </div>
          </div>

          <div class="success-box mt-6">
            <h4 class="font-bold text-green-300 mb-2">
              <i class="fas fa-magic mr-2"></i>üéØ True Automatic Self-Healing!
            </h4>
            <p class="text-slate-300">
              <i class="fas fa-bolt text-yellow-400 mr-2"></i>
              <strong
                >You'll see Kubernetes restarting container automatically
                üí•</strong
              >
            </p>
            <p class="text-slate-300 mt-2">
              <i class="fas fa-robot text-blue-400 mr-2"></i>
              No manual intervention needed. Kubernetes is now SMART enough to
              detect and fix app-level crashes!
            </p>
          </div>
        </div>
      </section>

      <!-- Summary & Best Practices -->
      <section class="healing-card p-5 md:p-6 mb-8">
        <h2 class="text-2xl md:text-3xl font-bold text-cyan-300 mb-6">
          <i class="fas fa-trophy mr-3"></i>üéØ Summary ‚Äî What You've Learned
        </h2>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <div class="health-box">
            <h3 class="font-bold text-green-300 mb-3">
              <i class="fas fa-check-circle mr-2"></i>‚úÖ Core Self-Healing
            </h3>
            <ul class="space-y-2 text-slate-300">
              <li class="flex items-start">
                <i class="fas fa-robot text-green-400 mt-1 mr-2"></i>
                <span
                  ><strong>Kubernetes auto recreates deleted pods</strong></span
                >
              </li>
              <li class="flex items-start">
                <i class="fas fa-calculator text-blue-400 mt-1 mr-2"></i>
                <span><strong>Deployment ensures replica count</strong></span>
              </li>
              <li class="flex items-start">
                <i class="fas fa-shield-alt text-purple-400 mt-1 mr-2"></i>
                <span><strong>Zero downtime when pods die</strong></span>
              </li>
            </ul>
          </div>

          <div class="info-box">
            <h3 class="font-bold text-blue-300 mb-3">
              <i class="fas fa-stethoscope mr-2"></i>üè• Advanced Health Checks
            </h3>
            <ul class="space-y-2 text-slate-300">
              <li class="flex items-start">
                <i class="fas fa-heartbeat text-red-400 mt-1 mr-2"></i>
                <span
                  ><strong>Liveness probe restarts bad containers</strong></span
                >
              </li>
              <li class="flex items-start">
                <i class="fas fa-check-circle text-green-400 mt-1 mr-2"></i>
                <span
                  ><strong>Readiness probe avoids broken traffic</strong></span
                >
              </li>
              <li class="flex items-start">
                <i class="fas fa-rocket text-purple-400 mt-1 mr-2"></i>
                <span
                  ><strong>Startup probe for slow-starting apps</strong></span
                >
              </li>
            </ul>
          </div>
        </div>

        <div class="success-box mt-6">
          <h4 class="font-bold text-green-300 mb-3">
            <i class="fas fa-award mr-2"></i>üèÜ Real Production Reliability
          </h4>
          <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
            <div class="text-center p-4 bg-slate-800/30 rounded">
              <div class="text-3xl mb-2">üöÄ</div>
              <h5 class="font-bold text-slate-300">High Availability</h5>
              <p class="text-sm text-slate-400">App stays up 24/7</p>
            </div>
            <div class="text-center p-4 bg-slate-800/30 rounded">
              <div class="text-3xl mb-2">ü§ñ</div>
              <h5 class="font-bold text-slate-300">Zero Manual Work</h5>
              <p class="text-sm text-slate-400">Auto-recovery</p>
            </div>
            <div class="text-center p-4 bg-slate-800/30 rounded">
              <div class="text-3xl mb-2">üí™</div>
              <h5 class="font-bold text-slate-300">Resilient System</h5>
              <p class="text-sm text-slate-400">Survives failures</p>
            </div>
          </div>
        </div>

        <div class="comparison-table mt-6 overflow-x-auto">
          <table>
            <thead>
              <tr>
                <th>Without Self-Healing</th>
                <th>With Self-Healing</th>
                <th>Impact</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Manual monitoring needed</td>
                <td>Automatic detection</td>
                <td>üë®‚Äçüíª ‚Üí ü§ñ</td>
              </tr>
              <tr>
                <td>Manual restart required</td>
                <td>Automatic recovery</td>
                <td>‚è∞ ‚Üí ‚ö°</td>
              </tr>
              <tr>
                <td>Downtime during failures</td>
                <td>Zero downtime</td>
                <td>üò± ‚Üí üòé</td>
              </tr>
              <tr>
                <td>On-call alerts at 3 AM</td>
                <td>Peaceful sleep</td>
                <td>üò¥ ‚Üí üí§</td>
              </tr>
            </tbody>
          </table>
        </div>

        <div class="health-box mt-6">
          <h4 class="font-bold text-green-300 mb-2">
            <i class="fas fa-lightbulb mr-2"></i>üí° Pro Tips for Production:
          </h4>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-3">
            <div>
              <h5 class="font-bold text-blue-300">Replica Strategy</h5>
              <ul class="text-sm text-slate-300 space-y-1">
                <li>‚Ä¢ Always run replicas ‚â• 2 for HA</li>
                <li>‚Ä¢ Use nodeAntiAffinity for spread</li>
                <li>‚Ä¢ Set resource limits always</li>
              </ul>
            </div>
            <div>
              <h5 class="font-bold text-purple-300">Probe Configuration</h5>
              <ul class="text-sm text-slate-300 space-y-1">
                <li>‚Ä¢ Start with 30s initialDelaySeconds</li>
                <li>‚Ä¢ Set timeoutSeconds appropriately</li>
                <li>‚Ä¢ Use /healthz standard endpoint</li>
              </ul>
            </div>
          </div>
        </div>
      </section>

      <!-- Interactive Practice -->
      <section class="healing-card p-5 md:p-6 mb-8">
        <h2 class="text-2xl md:text-3xl font-bold text-amber-300 mb-6">
          <i class="fas fa-gamepad mr-3"></i>üéÆ Interactive Self-Healing
          Practice
        </h2>

        <div class="demo-controls">
          <button class="demo-btn" onclick="initializePods()">
            <i class="fas fa-play mr-2"></i>Start Fresh (3 Pods)
          </button>
          <button class="demo-btn delete" onclick="killRandomPod()">
            <i class="fas fa-skull-crossbones mr-2"></i>Kill Random Pod
          </button>
          <button class="demo-btn delete" onclick="killAllPods()">
            <i class="fas fa-radiation mr-2"></i>Kill All Pods
          </button>
          <button class="demo-btn crash" onclick="simulateAppCrash()">
            <i class="fas fa-bug mr-2"></i>Simulate App Crash
          </button>
        </div>

        <div class="code-container">
          <div class="code-text" id="practiceCommands">
            # Practice Commands for Self-Healing Mastery: # 1. Check pod status
            with details kubectl get pods -o wide # 2. Watch events in real-time
            kubectl get events -w # 3. Describe a pod to see probes kubectl
            describe pod POD_NAME # 4. Check restart count (indicates crashes)
            kubectl get pods --show-labels # 5. Force delete (bypass graceful
            termination) kubectl delete pod POD_NAME --grace-period=0 --force #
            6. Check deployment status kubectl describe deployment
            YOUR-DEPLOYMENT # 7. View pod logs for debugging kubectl logs
            POD_NAME --previous # Previous container instance kubectl logs
            POD_NAME -f # Follow logs live
          </div>
          <div class="copy-btn-wrapper">
            <button
              class="copy-btn no-select"
              onclick="copyCode('practiceCommands')"
            >
              <i class="fas fa-copy"></i> Copy
            </button>
          </div>
        </div>

        <div class="health-visual" style="min-height: 250px">
          <div id="practiceCluster" class="pod-cluster"></div>
          <div id="statusMessage" class="mt-4 text-center"></div>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mt-6">
          <div class="p-4 bg-slate-800/50 rounded">
            <h4 class="font-bold text-green-300 mb-2">
              <i class="fas fa-graduation-cap mr-2"></i>üéì You Now Understand:
            </h4>
            <ul class="space-y-2 text-slate-300">
              <li class="flex items-start">
                <i class="fas fa-check text-green-400 mt-1 mr-2"></i>
                <span>How Kubernetes detects pod failures</span>
              </li>
              <li class="flex items-start">
                <i class="fas fa-check text-green-400 mt-1 mr-2"></i>
                <span>Automatic pod recreation process</span>
              </li>
              <li class="flex items-start">
                <i class="fas fa-check text-green-400 mt-1 mr-2"></i>
                <span>Liveness vs Readiness probes</span>
              </li>
              <li class="flex items-start">
                <i class="fas fa-check text-green-400 mt-1 mr-2"></i>
                <span>How to configure health checks</span>
              </li>
            </ul>
          </div>
          <div class="p-4 bg-slate-800/50 rounded">
            <h4 class="font-bold text-blue-300 mb-2">
              <i class="fas fa-rocket mr-2"></i>üöÄ Next Steps to Master:
            </h4>
            <ul class="space-y-2 text-slate-300">
              <li class="flex items-start">
                <i class="fas fa-arrow-right text-blue-400 mt-1 mr-2"></i>
                <span>Resource Limits & Requests</span>
              </li>
              <li class="flex items-start">
                <i class="fas fa-arrow-right text-blue-400 mt-1 mr-2"></i>
                <span>Pod Disruption Budgets (PDB)</span>
              </li>
              <li class="flex items-start">
                <i class="fas fa-arrow-right text-blue-400 mt-1 mr-2"></i>
                <span>Horizontal Pod Autoscaling (HPA)</span>
              </li>
              <li class="flex items-start">
                <i class="fas fa-arrow-right text-blue-400 mt-1 mr-2"></i>
                <span>Node Affinity/Anti-Affinity</span>
              </li>
            </ul>
          </div>
        </div>
      </section>

      <!-- Footer -->
      <footer class="text-center mt-12 mb-8">
        <div class="text-slate-400 mb-4">
          <p class="text-lg">You've mastered Kubernetes Self-Healing! üèÜ</p>
          <p class="text-slate-500 text-sm mt-2">
            Sleep peacefully knowing Kubernetes is watching over your apps 24/7!
            ‚ö°
          </p>
        </div>

        <div class="flex flex-wrap justify-center gap-4">
          <span class="px-4 py-2 bg-green-500/20 text-green-300 rounded-full">
            <i class="fas fa-heartbeat mr-2"></i>Self-Healing Mastered
          </span>
          <span class="px-4 py-2 bg-red-500/20 text-red-300 rounded-full">
            <i class="fas fa-skull-crossbones mr-2"></i>Failure Recovery Expert
          </span>
          <span class="px-4 py-2 bg-blue-500/20 text-blue-300 rounded-full">
            <i class="fas fa-stethoscope mr-2"></i>Health Probes Pro
          </span>
          <span class="px-4 py-2 bg-purple-500/20 text-purple-300 rounded-full">
            <i class="fas fa-shield-alt mr-2"></i>Production Ready
          </span>
        </div>

        <div class="mt-6 text-slate-500 text-sm">
          <p>
            Remember: Good health probes + proper replica count = Unbreakable
            apps! üõ°Ô∏è‚úÖ
          </p>
          <p class="mt-2">
            Next: Learn about ConfigMaps, Secrets, and Persistent Volumes for
            complete app resilience! üöÄ
          </p>
        </div>
      </footer>
    </div>

    <script>
      // Copy to clipboard functionality
      function copyCode(elementId) {
        const element = document.getElementById(elementId);
        let text = element.innerText || element.textContent;

        text = text.trim();

        navigator.clipboard
          .writeText(text)
          .then(() => {
            const button =
              element.parentElement.querySelector('.copy-btn') ||
              element.parentElement.parentElement.querySelector('.copy-btn');
            const originalText = button.innerHTML;

            button.innerHTML = '<i class="fas fa-check"></i> Copied!';
            button.classList.add('copied');

            setTimeout(() => {
              button.innerHTML = originalText;
              button.classList.remove('copied');
            }, 2000);
          })
          .catch((err) => {
            console.error('Failed to copy: ', err);
          });
      }

      // Initialize pod visualization
      let pods = [];

      function initializePods() {
        const podCluster = document.getElementById('podCluster');
        const practiceCluster = document.getElementById('practiceCluster');
        const statusMessage = document.getElementById('statusMessage');

        // Clear existing pods
        podCluster.innerHTML = '';
        if (practiceCluster) practiceCluster.innerHTML = '';
        if (statusMessage) statusMessage.innerHTML = '';

        pods = [];

        // Create 3 healthy pods
        for (let i = 1; i <= 3; i++) {
          const podId = `pod-${i}-${Date.now()}`;
          const pod = {
            id: podId,
            name: `express-demo-deploy-${Math.random()
              .toString(36)
              .substr(2, 6)}`,
            healthy: true,
          };
          pods.push(pod);

          // Create pod element for main cluster
          const podElement = document.createElement('div');
          podElement.id = podId;
          podElement.className = 'pod-box pod-healthy fade-in';
          podElement.style.setProperty('--delay', `${(i - 1) * 0.2}s`);
          podElement.innerHTML = `
            <div class="text-lg mb-1">üì¶</div>
            <div class="font-bold">Pod ${i}</div>
            <div class="text-xs">Healthy</div>
            <div class="text-xs mt-1">${pod.name.substr(-6)}</div>
          `;
          podCluster.appendChild(podElement);

          // Create pod element for practice cluster
          if (practiceCluster) {
            const practicePod = podElement.cloneNode(true);
            practicePod.onclick = () => killSpecificPod(podId);
            practiceCluster.appendChild(practicePod);
          }
        }

        // Update status message
        if (statusMessage) {
          statusMessage.innerHTML = `
            <div class="success-box" style="margin: 0;">
              <p class="text-slate-300">
                <i class="fas fa-check-circle text-green-400 mr-2"></i>
                <strong>3 pods running healthy!</strong> Click on a pod to kill it, or use buttons above.
              </p>
            </div>
          `;
        }
      }

      // Kill a random pod
      function killRandomPod() {
        if (pods.length === 0) {
          initializePods();
          return;
        }

        const healthyPods = pods.filter((p) => p.healthy);
        if (healthyPods.length === 0) return;

        const randomPod =
          healthyPods[Math.floor(Math.random() * healthyPods.length)];
        killSpecificPod(randomPod.id);
      }

      // Kill a specific pod
      function killSpecificPod(podId) {
        const podIndex = pods.findIndex((p) => p.id === podId);
        if (podIndex === -1 || !pods[podIndex].healthy) return;

        const podElement = document.getElementById(podId);
        const practicePod = document.querySelector(
          `#practiceCluster #${podId}`,
        );

        // Mark as dead
        pods[podIndex].healthy = false;

        // Animate death
        podElement.classList.remove('pod-healthy');
        podElement.classList.add('pod-dead');
        podElement.innerHTML = `
          <div class="text-lg mb-1">üíÄ</div>
          <div class="font-bold">Pod Dead</div>
          <div class="text-xs">Terminating</div>
          <div class="text-xs mt-1">${pods[podIndex].name.substr(-6)}</div>
        `;

        if (practicePod) {
          practicePod.classList.remove('pod-healthy');
          practicePod.classList.add('pod-dead');
          practicePod.innerHTML = podElement.innerHTML;
        }

        // Show healing animation
        const healingAnimation = document.getElementById('healingAnimation');
        if (healingAnimation) {
          healingAnimation.textContent = 'üè• Healing...';
          healingAnimation.style.display = 'block';
        }

        // Update status message
        const statusMessage = document.getElementById('statusMessage');
        if (statusMessage) {
          statusMessage.innerHTML = `
            <div class="warning-box" style="margin: 0;">
              <p class="text-slate-300">
                <i class="fas fa-skull-crossbones text-red-400 mr-2"></i>
                <strong>Pod killed!</strong> Kubernetes is creating a replacement...
              </p>
            </div>
          `;
        }

        // Auto-heal after delay
        setTimeout(() => {
          healPod(podId);
        }, 1500);
      }

      // Heal a pod (create new one)
      function healPod(oldPodId) {
        const podIndex = pods.findIndex((p) => p.id === oldPodId);
        if (podIndex === -1) return;

        // Create new pod
        const newPodId = `pod-${podIndex + 1}-${Date.now()}`;
        const newPodName = `express-demo-deploy-${Math.random()
          .toString(36)
          .substr(2, 6)}`;

        pods[podIndex] = {
          id: newPodId,
          name: newPodName,
          healthy: true,
        };

        const podElement = document.getElementById(oldPodId);
        const practicePod = document.querySelector(
          `#practiceCluster #${oldPodId}`,
        );

        // Animate recovery
        podElement.id = newPodId;
        podElement.classList.remove('pod-dead');
        podElement.classList.add('pod-recovering');
        podElement.innerHTML = `
          <div class="text-lg mb-1">üîÑ</div>
          <div class="font-bold">Pod Recovering</div>
          <div class="text-xs">Creating</div>
          <div class="text-xs mt-1">${newPodName.substr(-6)}</div>
        `;

        if (practicePod) {
          practicePod.id = newPodId;
          practicePod.classList.remove('pod-dead');
          practicePod.classList.add('pod-recovering');
          practicePod.innerHTML = podElement.innerHTML;
          practicePod.onclick = () => killSpecificPod(newPodId);
        }

        // Final healthy state
        setTimeout(() => {
          podElement.classList.remove('pod-recovering');
          podElement.classList.add('pod-healthy');
          podElement.innerHTML = `
            <div class="text-lg mb-1">üì¶</div>
            <div class="font-bold">Pod ${podIndex + 1}</div>
            <div class="text-xs">Healthy</div>
            <div class="text-xs mt-1">${newPodName.substr(-6)}</div>
          `;

          if (practicePod) {
            practicePod.classList.remove('pod-recovering');
            practicePod.classList.add('pod-healthy');
            practicePod.innerHTML = podElement.innerHTML;
          }

          // Hide healing animation
          const healingAnimation = document.getElementById('healingAnimation');
          if (healingAnimation) {
            healingAnimation.style.display = 'none';
          }

          // Update status message
          const statusMessage = document.getElementById('statusMessage');
          if (statusMessage) {
            statusMessage.innerHTML = `
              <div class="success-box" style="margin: 0;">
                <p class="text-slate-300">
                  <i class="fas fa-heartbeat text-green-400 mr-2"></i>
                  <strong>Self-healing complete!</strong> Pod has been automatically recreated. üéâ
                </p>
              </div>
            `;
          }
        }, 1000);
      }

      // Kill all pods
      function killAllPods() {
        if (pods.length === 0) {
          initializePods();
          return;
        }

        // Kill each pod with delay
        pods.forEach((pod, index) => {
          setTimeout(() => {
            if (pod.healthy) {
              killSpecificPod(pod.id);
            }
          }, index * 300);
        });

        // Update status message
        const statusMessage = document.getElementById('statusMessage');
        if (statusMessage) {
          statusMessage.innerHTML = `
            <div class="error-box" style="margin: 0;">
              <p class="text-slate-300">
                <i class="fas fa-radiation text-red-400 mr-2"></i>
                <strong>Nuclear option activated!</strong> Killing all pods... Kubernetes will recover them all!
              </p>
            </div>
          `;
        }
      }

      // Simulate app crash
      function simulateAppCrash() {
        if (pods.length === 0) {
          initializePods();
          return;
        }

        const statusMessage = document.getElementById('statusMessage');
        if (statusMessage) {
          statusMessage.innerHTML = `
            <div class="warning-box" style="margin: 0;">
              <p class="text-slate-300">
                <i class="fas fa-bug text-amber-300 mr-2"></i>
                <strong>Simulating app crash...</strong> Liveness probe will detect and restart container!
              </p>
            </div>
          `;
        }

        // Show crash and recovery animation
        const podCluster = document.getElementById('podCluster');
        const healingAnimation = document.getElementById('healingAnimation');

        if (healingAnimation) {
          healingAnimation.textContent = 'üêõ App Crashed ‚Üí üîÑ Restarting...';
          healingAnimation.style.display = 'block';
        }

        // Simulate crash and recovery
        setTimeout(() => {
          if (healingAnimation) {
            healingAnimation.textContent = 'üè• Liveness Probe Restarting...';
          }

          setTimeout(() => {
            if (healingAnimation) {
              healingAnimation.style.display = 'none';
            }

            if (statusMessage) {
              statusMessage.innerHTML = `
                <div class="success-box" style="margin: 0;">
                  <p class="text-slate-300">
                    <i class="fas fa-stethoscope text-green-400 mr-2"></i>
                    <strong>App recovered!</strong> Liveness probe detected crash and restarted container automatically! üí™
                  </p>
                </div>
              `;
            }
          }, 2000);
        }, 1500);
      }

      // Watch pods simulation
      function watchPods() {
        const statusMessage = document.getElementById('statusMessage');
        if (statusMessage) {
          statusMessage.innerHTML = `
            <div class="info-box" style="margin: 0;">
              <p class="text-slate-300">
                <i class="fas fa-eye text-blue-400 mr-2"></i>
                <strong>Watching pods...</strong> (Press Ctrl+C to stop)
                <br>
                <small class="text-slate-400">In real terminal: <code>kubectl get pods -w</code></small>
              </p>
            </div>
          `;
        }
      }

      // Show restart animation
      function showRestartAnimation() {
        const healingAnimation = document.getElementById('healingAnimation');
        if (healingAnimation) {
          healingAnimation.textContent = 'üîÑ Container Restarting...';
          healingAnimation.style.display = 'block';

          setTimeout(() => {
            healingAnimation.style.display = 'none';
          }, 2000);
        }
      }

      // Initialize when page loads
      document.addEventListener('DOMContentLoaded', () => {
        initializePods();

        // Make buttons touch-friendly
        document
          .querySelectorAll('.copy-btn, .demo-btn, button')
          .forEach((btn) => {
            btn.classList.add('touch-target');
          });

        // Add syntax highlighting
        const codeElements = document.querySelectorAll('.code-text');
        codeElements.forEach((element) => {
          let code = element.innerHTML;

          // Highlight comments
          code = code.replace(/#.*$/gm, '<span class="code-comment">$&</span>');

          // Highlight kubectl commands
          code = code.replace(
            /\b(kubectl|get|delete|pod|--all|exec|-it|describe|logs|apply)\b/g,
            '<span class="code-keyword">$1</span>',
          );

          // Highlight numbers
          code = code.replace(
            /\b(\d+)\b/g,
            '<span class="code-number">$1</span>',
          );

          // Highlight paths and endpoints
          code = code.replace(
            /(\/health|\/ready|:3000)/g,
            '<span class="code-string">$1</span>',
          );

          element.innerHTML = code;
        });
      });
    </script>
  </body>
</html>
