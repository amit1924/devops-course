<!DOCTYPE html>
<html lang="en" class="dark">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes"
    />
    <title>
      üöÄ Kubernetes Rollouts & Rollbacks - Zero Downtime Deployments
    </title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
    />
    <style>
      @import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;400;500;700&family=Inter:wght@300;400;500;600;700&display=swap');

      body {
        font-family: 'Inter', sans-serif;
        background: linear-gradient(
          135deg,
          #0f172a 0%,
          #1e293b 50%,
          #334155 100%
        );
        color: #e2e8f0;
        min-height: 100vh;
        overflow-x: hidden;
      }

      .gradient-text {
        background: linear-gradient(45deg, #00d8ff, #9d4edd, #00d8ff);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        background-size: 200% auto;
        animation: gradient 3s ease infinite;
      }

      @keyframes gradient {
        0%,
        100% {
          background-position: 0% 50%;
        }
        50% {
          background-position: 100% 50%;
        }
      }

      .rollout-card {
        background: rgba(30, 41, 59, 0.9);
        backdrop-filter: blur(10px);
        border-radius: 16px;
        border: 1px solid rgba(71, 85, 105, 0.3);
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
      }

      .rollout-card:hover {
        transform: translateY(-3px);
        box-shadow: 0 15px 30px rgba(157, 78, 221, 0.15);
        border-color: #9d4edd;
      }

      .step-card {
        background: rgba(30, 41, 59, 0.8);
        border-radius: 16px;
        border: 1px solid rgba(71, 85, 105, 0.3);
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
        margin-bottom: 20px;
      }

      .step-card:hover {
        transform: translateY(-2px);
        box-shadow: 0 10px 25px rgba(59, 130, 246, 0.1);
      }

      .step-badge {
        position: absolute;
        top: -12px;
        left: 20px;
        width: 40px;
        height: 40px;
        background: linear-gradient(135deg, #9d4edd, #c77dff);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: bold;
        color: white;
        font-size: 1.2rem;
        box-shadow: 0 5px 15px rgba(157, 78, 221, 0.3);
        z-index: 2;
      }

      .code-container {
        background: #0f172a;
        border-left: 4px solid #3b82f6;
        border-radius: 8px;
        font-family: 'JetBrains Mono', monospace;
        position: relative;
        overflow: hidden;
        padding: 20px;
        margin: 15px 0;
      }

      .code-text {
        color: #ffffff;
        font-size: 0.95rem;
        line-height: 1.6;
        word-break: break-word;
        padding-right: 100px;
        overflow-x: auto;
        white-space: pre-wrap;
      }

      .copy-btn-wrapper {
        position: absolute;
        top: 10px;
        right: 10px;
        z-index: 10;
      }

      .copy-btn {
        background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
        color: white;
        border: none;
        padding: 8px 16px;
        border-radius: 6px;
        font-weight: 600;
        font-size: 0.85rem;
        transition: all 0.3s ease;
        cursor: pointer;
        min-height: 36px;
        display: flex;
        align-items: center;
        justify-content: center;
        white-space: nowrap;
      }

      .copy-btn:hover {
        background: linear-gradient(135deg, #60a5fa 0%, #3b82f6 100%);
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(59, 130, 246, 0.3);
      }

      .copy-btn.copied {
        background: linear-gradient(135deg, #10b981 0%, #059669 100%);
      }

      .terminal-output {
        background: #1e293b;
        border-radius: 8px;
        padding: 15px;
        margin: 10px 0;
        font-family: 'JetBrains Mono', monospace;
        overflow-x: auto;
      }

      .terminal-line {
        margin: 5px 0;
        color: #e2e8f0;
      }

      .terminal-prompt {
        color: #10b981;
        font-weight: bold;
      }

      .terminal-success {
        color: #22c55e;
      }

      .terminal-warning {
        color: #f59e0b;
      }

      .rollout-visual {
        display: flex;
        flex-direction: column;
        align-items: center;
        padding: 30px;
        background: rgba(15, 23, 42, 0.5);
        border-radius: 12px;
        margin: 20px 0;
        border: 2px solid #334155;
        position: relative;
        min-height: 400px;
      }

      .pod-cluster {
        display: flex;
        justify-content: center;
        gap: 20px;
        margin: 20px 0;
        flex-wrap: wrap;
      }

      .pod-box {
        color: white;
        padding: 15px;
        border-radius: 10px;
        text-align: center;
        min-width: 120px;
        animation: pulse 2s infinite;
        animation-delay: var(--delay);
        position: relative;
        transition: all 0.5s ease;
      }

      .pod-v2 {
        background: linear-gradient(135deg, #9d4edd, #7b2cbf);
        border: 2px solid #9d4edd;
      }

      .pod-v3 {
        background: linear-gradient(135deg, #3b82f6, #1d4ed8);
        border: 2px solid #3b82f6;
      }

      .pod-rolling {
        background: linear-gradient(135deg, #f59e0b, #d97706);
        border: 2px solid #f59e0b;
      }

      @keyframes pulse {
        0%,
        100% {
          transform: scale(1);
          box-shadow: 0 0 15px rgba(157, 78, 221, 0.3);
        }
        50% {
          transform: scale(1.05);
          box-shadow: 0 0 25px rgba(157, 78, 221, 0.6);
        }
      }

      @keyframes fadeOut {
        from {
          opacity: 1;
          transform: scale(1);
        }
        to {
          opacity: 0;
          transform: scale(0.8);
        }
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: scale(0.8);
        }
        to {
          opacity: 1;
          transform: scale(1);
        }
      }

      .fade-out {
        animation: fadeOut 0.5s ease forwards;
      }

      .fade-in {
        animation: fadeIn 0.5s ease forwards;
      }

      .rolling-animation {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        font-size: 2rem;
        color: #f59e0b;
        z-index: 10;
        display: none;
      }

      .rollout-flow {
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 20px 0;
        position: relative;
        width: 100%;
      }

      .flow-arrow {
        font-size: 2rem;
        margin: 0 20px;
        color: #f59e0b;
        animation: bounce 2s infinite;
      }

      @keyframes bounce {
        0%,
        100% {
          transform: translateX(0);
        }
        50% {
          transform: translateX(10px);
        }
      }

      .info-box {
        background: linear-gradient(
          135deg,
          rgba(59, 130, 246, 0.1),
          rgba(37, 99, 235, 0.1)
        );
        border-left: 4px solid #3b82f6;
        border-radius: 0 8px 8px 0;
        padding: 15px;
        margin: 15px 0;
      }

      .success-box {
        background: linear-gradient(
          135deg,
          rgba(34, 197, 94, 0.1),
          rgba(21, 128, 61, 0.1)
        );
        border-left: 4px solid #22c55e;
        border-radius: 0 8px 8px 0;
        padding: 15px;
        margin: 15px 0;
      }

      .warning-box {
        background: linear-gradient(
          135deg,
          rgba(245, 158, 11, 0.1),
          rgba(217, 119, 6, 0.1)
        );
        border-left: 4px solid #f59e0b;
        border-radius: 0 8px 8px 0;
        padding: 15px;
        margin: 15px 0;
      }

      .comparison-table {
        width: 100%;
        border-collapse: collapse;
        margin: 20px 0;
        background: rgba(30, 41, 59, 0.5);
        border-radius: 10px;
        overflow: hidden;
      }

      .comparison-table th {
        background: rgba(157, 78, 221, 0.3);
        padding: 15px;
        text-align: left;
        color: #e2e8f0;
        border-bottom: 2px solid #334155;
      }

      .comparison-table td {
        padding: 12px 15px;
        border-bottom: 1px solid #334155;
        color: #cbd5e1;
      }

      .comparison-table tr:hover {
        background: rgba(157, 78, 221, 0.1);
      }

      .revision-timeline {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 20px;
        background: rgba(15, 23, 42, 0.3);
        border-radius: 12px;
        margin: 20px 0;
        position: relative;
      }

      .revision-point {
        display: flex;
        flex-direction: column;
        align-items: center;
        position: relative;
        z-index: 2;
      }

      .revision-dot {
        width: 40px;
        height: 40px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: bold;
        margin-bottom: 10px;
      }

      .revision-v2 {
        background: linear-gradient(135deg, #9d4edd, #7b2cbf);
        color: white;
      }

      .revision-v3 {
        background: linear-gradient(135deg, #3b82f6, #1d4ed8);
        color: white;
      }

      .revision-rollback {
        background: linear-gradient(135deg, #10b981, #059669);
        color: white;
      }

      .timeline-line {
        position: absolute;
        top: 20px;
        left: 10%;
        right: 10%;
        height: 4px;
        background: linear-gradient(90deg, #9d4edd, #3b82f6, #10b981);
        border-radius: 2px;
        z-index: 1;
      }

      .demo-controls {
        display: flex;
        gap: 10px;
        margin: 15px 0;
        flex-wrap: wrap;
        justify-content: center;
      }

      .demo-btn {
        background: linear-gradient(135deg, #3b82f6, #1d4ed8);
        color: white;
        border: none;
        padding: 12px 24px;
        border-radius: 8px;
        cursor: pointer;
        transition: all 0.3s ease;
        font-weight: 600;
      }

      .demo-btn:hover {
        background: linear-gradient(135deg, #60a5fa, #3b82f6);
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(59, 130, 246, 0.3);
      }

      .demo-btn.rollout {
        background: linear-gradient(135deg, #9d4edd, #7b2cbf);
      }

      .demo-btn.rollback {
        background: linear-gradient(135deg, #10b981, #059669);
      }

      .demo-btn.rollout:hover {
        background: linear-gradient(135deg, #c77dff, #9d4edd);
      }

      .demo-btn.rollback:hover {
        background: linear-gradient(135deg, #34d399, #10b981);
      }

      /* Mobile-specific improvements */
      @media (max-width: 767px) {
        .rollout-card,
        .step-card {
          padding: 20px 15px !important;
          margin: 8px 0;
        }

        .code-container {
          padding: 15px;
          padding-right: 80px;
        }

        .code-text {
          font-size: 0.85rem;
          padding-right: 70px;
        }

        .copy-btn {
          padding: 6px 12px;
          font-size: 0.8rem;
          min-height: 32px;
        }

        .pod-cluster {
          gap: 10px;
        }

        .pod-box {
          min-width: 100px;
          padding: 10px;
          font-size: 0.9rem;
        }

        .revision-timeline {
          flex-direction: column;
          gap: 30px;
        }

        .timeline-line {
          top: 50%;
          left: 50%;
          width: 4px;
          height: 80%;
          transform: translate(-50%, -50%);
        }
      }

      /* Touch-friendly improvements */
      .touch-target {
        min-height: 44px;
        min-width: 44px;
      }

      /* Syntax highlighting */
      .code-keyword {
        color: #c586c0;
      }
      .code-string {
        color: #ce9178;
      }
      .code-number {
        color: #b5cea8;
      }
      .code-comment {
        color: #6a9955;
      }

      /* Rollout strategy visualization */
      .strategy-visual {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 10px;
        margin: 20px 0;
        text-align: center;
      }

      .strategy-step {
        background: rgba(30, 41, 59, 0.6);
        padding: 15px;
        border-radius: 8px;
        position: relative;
      }

      .strategy-step.active {
        background: rgba(59, 130, 246, 0.3);
        border: 2px solid #3b82f6;
      }

      .step-connector {
        position: absolute;
        top: 50%;
        right: -10px;
        width: 20px;
        height: 2px;
        background: #3b82f6;
        z-index: 1;
      }

      /* Live status indicators */
      .status-indicator {
        display: inline-flex;
        align-items: center;
        padding: 4px 12px;
        border-radius: 20px;
        font-size: 0.85rem;
        font-weight: 600;
      }

      .status-running {
        background: rgba(34, 197, 94, 0.2);
        color: #22c55e;
        border: 1px solid rgba(34, 197, 94, 0.4);
      }

      .status-pending {
        background: rgba(245, 158, 11, 0.2);
        color: #f59e0b;
        border: 1px solid rgba(245, 158, 11, 0.4);
      }

      .status-terminating {
        background: rgba(239, 68, 68, 0.2);
        color: #ef4444;
        border: 1px solid rgba(239, 68, 68, 0.4);
      }
    </style>
  </head>
  <body class="min-h-screen p-4 md:p-6 lg:p-8">
    <div class="max-w-6xl mx-auto">
      <!-- Hero Header -->
      <header class="text-center mb-10 md:mb-12">
        <div class="rollout-card p-6 mb-8">
          <h1
            class="text-3xl md:text-4xl lg:text-5xl font-bold gradient-text mb-4"
          >
            üöÄ Kubernetes Rollouts & Rollbacks
          </h1>
          <p class="text-xl md:text-2xl text-slate-300 mb-6">
            Zero Downtime Deployments Like a Pro!
          </p>

          <div class="flex flex-wrap justify-center gap-3 mb-6">
            <span
              class="px-4 py-2 bg-purple-500/20 text-purple-300 rounded-full border border-purple-500/30"
            >
              <i class="fas fa-sync-alt mr-2"></i>Rolling Updates
            </span>
            <span
              class="px-4 py-2 bg-blue-500/20 text-blue-300 rounded-full border border-blue-500/30"
            >
              <i class="fas fa-undo mr-2"></i>Rollbacks
            </span>
            <span
              class="px-4 py-2 bg-green-500/20 text-green-300 rounded-full border border-green-500/30"
            >
              <i class="fas fa-clock mr-2"></i>Zero Downtime
            </span>
          </div>

          <div class="rollout-visual">
            <div class="rolling-animation" id="rollingAnimation">
              üîÑ Rolling...
            </div>
            <div class="pod-cluster" id="podCluster">
              <!-- Pods will be dynamically added here -->
            </div>
          </div>
        </div>
      </header>

      <!-- What is Rollout? -->
      <section class="rollout-card p-5 md:p-6 mb-8">
        <h2 class="text-2xl md:text-3xl font-bold text-cyan-300 mb-6">
          <i class="fas fa-sync-alt mr-3"></i>üéØ What is a Rollout?
        </h2>

        <div class="info-box">
          <p class="text-slate-300">
            <i class="fas fa-arrows-spin text-blue-400 mr-2"></i>
            <strong
              >Rollout = Updating your running app without stopping it</strong
            ><br />
            No downtime‚Ä¶ users stay happy üòä
          </p>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <div class="success-box">
            <h3 class="font-bold text-green-300 mb-3">
              <i class="fas fa-check-circle mr-2"></i>Kubernetes Does This:
            </h3>
            <ul class="space-y-2 text-slate-300">
              <li class="flex items-start">
                <i class="fas fa-plus text-green-400 mt-1 mr-2"></i>
                <span>Create new pod(s) with updated version</span>
              </li>
              <li class="flex items-start">
                <i class="fas fa-exchange-alt text-green-400 mt-1 mr-2"></i>
                <span>Gradually replace old pods</span>
              </li>
              <li class="flex items-start">
                <i class="fas fa-shield-alt text-green-400 mt-1 mr-2"></i>
                <span>Ensure app never goes down</span>
              </li>
              <li class="flex items-start">
                <i class="fas fa-heartbeat text-green-400 mt-1 mr-2"></i>
                <span>Keep service available 100%</span>
              </li>
            </ul>
          </div>

          <div class="info-box">
            <h3 class="font-bold text-blue-300 mb-3">
              <i class="fas fa-server mr-2"></i>Your Current Setup:
            </h3>
            <div class="space-y-2 text-slate-300">
              <div class="flex justify-between">
                <span>Deployment name:</span>
                <code class="text-cyan-300">express-demo-deploy</code>
              </div>
              <div class="flex justify-between">
                <span>Current pods:</span>
                <span class="status-indicator status-running">3 replicas</span>
              </div>
              <div class="flex justify-between">
                <span>Current image:</span>
                <code class="text-green-300">express-demo:v2</code>
              </div>
              <div class="flex justify-between">
                <span>Service:</span>
                <code class="text-purple-300">express-service</code>
              </div>
            </div>
          </div>
        </div>

        <div class="success-box mt-6">
          <h4 class="font-bold text-green-300 mb-2">
            <i class="fas fa-star mr-2"></i>Perfect Setup for Rollout üòé
          </h4>
          <p class="text-slate-300">
            You have 3 replicas running ‚Üí Kubernetes can update them one by one
            without stopping your app!
          </p>
        </div>
      </section>

      <!-- Step 1: Build New Image -->
      <section class="step-card p-5 md:p-6">
        <div class="step-badge">1</div>
        <div class="pt-8">
          <h2 class="text-xl md:text-2xl font-bold text-green-300 mb-4">
            <i class="fas fa-cogs mr-3"></i>‚úÖ Step 1 ‚Äî Build New Version Image
          </h2>

          <div class="code-container">
            <div class="code-text" id="buildImage">
              # Connect to Minikube Docker eval $(minikube docker-env) # Build
              new version (v3) docker build -t express-demo:v3 . # Verify both
              images exist docker images | grep express-demo
            </div>
            <div class="copy-btn-wrapper">
              <button
                class="copy-btn no-select"
                onclick="copyCode('buildImage')"
              >
                <i class="fas fa-copy"></i> Copy
              </button>
            </div>
          </div>

          <div class="terminal-output">
            <div class="terminal-line">
              <span class="terminal-prompt">$</span> docker build -t
              express-demo:v3 .
            </div>
            <div class="terminal-line ml-4">
              <i class="fas fa-cog fa-spin text-blue-400 mr-2"></i>
              [+] Building 0.1s (10/10) FINISHED
            </div>
            <div class="terminal-line ml-4 terminal-success">
              <i class="fas fa-check-circle mr-2"></i>
              => naming to docker.io/library/express-demo:v3
            </div>
            <div class="terminal-line">
              <span class="terminal-prompt">$</span> docker images | grep
              express-demo
            </div>
            <div class="terminal-line ml-4">
              express-demo:v2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;9fb4e740712b&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;132MB
            </div>
            <div class="terminal-line ml-4 terminal-success">
              express-demo:v3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4e5d1a65408b&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;132MB
            </div>
          </div>

          <div class="success-box">
            <h4 class="font-bold text-green-300 mb-2">
              <i class="fas fa-check-circle mr-2"></i>‚úÖ Images Ready!
            </h4>
            <p class="text-slate-300">
              You now have both <code class="text-cyan-300">v2</code> (current)
              and <code class="text-green-300">v3</code> (new) images in
              Minikube Docker.
            </p>
          </div>
        </div>
      </section>

      <!-- Step 2: Start Rollout -->
      <section class="step-card p-5 md:p-6">
        <div class="step-badge">2</div>
        <div class="pt-8">
          <h2 class="text-xl md:text-2xl font-bold text-blue-300 mb-4">
            <i class="fas fa-rocket mr-3"></i>üöÄ Step 2 ‚Äî Update Deployment
            (Start Rollout)
          </h2>

          <div class="code-container">
            <div class="code-text" id="startRollout">
              # Update deployment to use v3 image kubectl set image
              deployment/express-demo-deploy \ express-container=express-demo:v3
              # Check rollout status kubectl rollout status
              deployment/express-demo-deploy
            </div>
            <div class="copy-btn-wrapper">
              <button
                class="copy-btn no-select"
                onclick="copyCode('startRollout')"
              >
                <i class="fas fa-copy"></i> Copy
              </button>
            </div>
          </div>

          <div class="terminal-output">
            <div class="terminal-line">
              <span class="terminal-prompt">$</span> kubectl set image
              deployment/express-demo-deploy express-container=express-demo:v3
            </div>
            <div class="terminal-line ml-4 terminal-success">
              deployment.apps/express-demo-deploy image updated
            </div>
            <div class="terminal-line">
              <span class="terminal-prompt">$</span> kubectl rollout status
              deployment/express-demo-deploy
            </div>
            <div class="terminal-line ml-4 terminal-success">
              deployment "express-demo-deploy" successfully rolled out
            </div>
          </div>

          <div class="demo-controls">
            <button class="demo-btn rollout" onclick="startRollout()">
              <i class="fas fa-play mr-2"></i>Demo Rollout to v3
            </button>
          </div>

          <div class="rollout-visual" style="min-height: 200px">
            <div class="rollout-flow">
              <div id="v2Pods" class="pod-cluster"></div>
              <div class="flow-arrow">‚Üí</div>
              <div id="v3Pods" class="pod-cluster"></div>
            </div>
          </div>
        </div>
      </section>

      <!-- Step 3: Watch Rollout Live -->
      <section class="step-card p-5 md:p-6">
        <div class="step-badge">3</div>
        <div class="pt-8">
          <h2 class="text-xl md:text-2xl font-bold text-purple-300 mb-4">
            <i class="fas fa-eye mr-3"></i>üëÄ Step 3 ‚Äî Watch Rollout Happening
            Live
          </h2>

          <div class="code-container">
            <div class="code-text" id="watchRollout">
              # Watch pods during rollout kubectl get pods -w # Stop watching
              with Ctrl + C
            </div>
            <div class="copy-btn-wrapper">
              <button
                class="copy-btn no-select"
                onclick="copyCode('watchRollout')"
              >
                <i class="fas fa-copy"></i> Copy
              </button>
            </div>
          </div>

          <div
            class="terminal-output"
            style="max-height: 200px; overflow-y: auto"
          >
            <div class="terminal-line">
              <span class="terminal-prompt">$</span> kubectl get pods -w
            </div>
            <div class="terminal-line ml-4">
              NAME&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;READY&nbsp;&nbsp;STATUS&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RESTARTS&nbsp;&nbsp;AGE
            </div>
            <div class="terminal-line ml-4">
              express-demo-deploy-5fb9647976-tcbkd&nbsp;&nbsp;1/1&nbsp;&nbsp;&nbsp;&nbsp;Running&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;115m
            </div>
            <div class="terminal-line ml-4">
              express-demo-deploy-5fb9647976-snlmv&nbsp;&nbsp;1/1&nbsp;&nbsp;&nbsp;&nbsp;Running&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2m
            </div>
            <div class="terminal-line ml-4">
              express-demo-deploy-5fb9647976-5mj98&nbsp;&nbsp;1/1&nbsp;&nbsp;&nbsp;&nbsp;Running&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2m
            </div>
            <div class="terminal-line ml-4 terminal-warning">
              <i class="fas fa-plus-circle mr-2"></i>
              express-demo-deploy-79f98649c7-92xqj&nbsp;&nbsp;0/1&nbsp;&nbsp;&nbsp;&nbsp;Pending&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0s
            </div>
            <div class="terminal-line ml-4 terminal-success">
              <i class="fas fa-check-circle mr-2"></i>
              express-demo-deploy-79f98649c7-92xqj&nbsp;&nbsp;1/1&nbsp;&nbsp;&nbsp;&nbsp;Running&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2s
            </div>
            <div class="terminal-line ml-4 terminal-warning">
              <i class="fas fa-minus-circle mr-2"></i>
              express-demo-deploy-5fb9647976-tcbkd&nbsp;&nbsp;1/1&nbsp;&nbsp;&nbsp;&nbsp;Terminating&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;115m
            </div>
            <div class="terminal-line ml-4">
              <i class="fas fa-sync-alt fa-spin text-blue-400 mr-2"></i>
              Watching pods rollout in real-time...
            </div>
          </div>

          <div class="strategy-visual">
            <div class="strategy-step active">
              <div class="text-xl mb-2">1Ô∏è‚É£</div>
              <div>Create v3 Pod</div>
              <span class="status-indicator status-pending">Pending</span>
            </div>
            <div class="step-connector"></div>

            <div class="strategy-step">
              <div class="text-xl mb-2">2Ô∏è‚É£</div>
              <div>v3 Running</div>
              <span class="status-indicator status-running">Running</span>
            </div>
            <div class="step-connector"></div>

            <div class="strategy-step">
              <div class="text-xl mb-2">3Ô∏è‚É£</div>
              <div>Terminate v2</div>
              <span class="status-indicator status-terminating"
                >Terminating</span
              >
            </div>
            <div class="step-connector"></div>

            <div class="strategy-step">
              <div class="text-xl mb-2">üéØ</div>
              <div>All v3</div>
              <span class="status-indicator status-running">Complete</span>
            </div>
          </div>

          <div class="success-box">
            <h4 class="font-bold text-green-300 mb-2">
              <i class="fas fa-check-circle mr-2"></i>You'll Literally See:
            </h4>
            <ul class="space-y-2 text-slate-300">
              <li class="flex items-start">
                <i class="fas fa-plus text-green-400 mt-1 mr-2"></i>
                <span><strong>New pods create</strong> (v3)</span>
              </li>
              <li class="flex items-start">
                <i class="fas fa-minus text-red-400 mt-1 mr-2"></i>
                <span><strong>Old pods terminate</strong> (v2)</span>
              </li>
              <li class="flex items-start">
                <i class="fas fa-bolt text-yellow-400 mt-1 mr-2"></i>
                <span><strong>Zero downtime</strong> ü§Ø</span>
              </li>
            </ul>
          </div>
        </div>
      </section>

      <!-- Step 4: Check Rollout History -->
      <section class="step-card p-5 md:p-6">
        <div class="step-badge">4</div>
        <div class="pt-8">
          <h2 class="text-xl md:text-2xl font-bold text-amber-300 mb-4">
            <i class="fas fa-history mr-3"></i>üìú Step 4 ‚Äî Check Rollout History
          </h2>

          <div class="code-container">
            <div class="code-text" id="checkHistory">
              # View rollout history kubectl rollout history
              deployment/express-demo-deploy # Check current images in pods
              kubectl get pod -o=jsonpath='{.items[*].spec.containers[*].image}'
              | tr ' ' '\n' # Or check specific pod image kubectl describe pod
              express-demo-deploy-79f98649c7-92xqj | grep Image
            </div>
            <div class="copy-btn-wrapper">
              <button
                class="copy-btn no-select"
                onclick="copyCode('checkHistory')"
              >
                <i class="fas fa-copy"></i> Copy
              </button>
            </div>
          </div>

          <div class="terminal-output">
            <div class="terminal-line">
              <span class="terminal-prompt">$</span> kubectl rollout history
              deployment/express-demo-deploy
            </div>
            <div class="terminal-line ml-4">
              deployment.apps/express-demo-deploy
            </div>
            <div class="terminal-line ml-4">
              REVISION&nbsp;&nbsp;CHANGE-CAUSE
            </div>
            <div class="terminal-line ml-4">
              1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;none&gt;
            </div>
            <div class="terminal-line ml-4 terminal-success">
              2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;none&gt;
            </div>
            <div class="terminal-line">
              <span class="terminal-prompt">$</span> kubectl get pod
              -o=jsonpath='{.items[*].spec.containers[*].image}' | tr ' ' '\n'
            </div>
            <div class="terminal-line ml-4">express-demo:v3</div>
            <div class="terminal-line ml-4">express-demo:v3</div>
            <div class="terminal-line ml-4">express-demo:v3</div>
            <div class="terminal-line ml-4">node:18-alpine</div>
          </div>

          <div class="revision-timeline">
            <div class="timeline-line"></div>

            <div class="revision-point">
              <div class="revision-dot revision-v2">v2</div>
              <div class="text-sm text-slate-300">Revision 1</div>
              <div class="text-xs text-slate-400">Initial</div>
            </div>

            <div class="revision-point">
              <div class="revision-dot revision-v3">v3</div>
              <div class="text-sm text-slate-300">Revision 2</div>
              <div class="text-xs text-slate-400">Updated</div>
            </div>
          </div>
        </div>
      </section>

      <!-- Step 5: Rollback (When Things Go Wrong) -->
      <section class="step-card p-5 md:p-6">
        <div class="step-badge">5</div>
        <div class="pt-8">
          <h2 class="text-xl md:text-2xl font-bold text-red-300 mb-4">
            <i class="fas fa-undo mr-3"></i>üïí Step 5 ‚Äî If Something Goes Wrong
            ‚Üí ROLLBACK
          </h2>

          <div class="warning-box">
            <p class="text-slate-300">
              <i class="fas fa-exclamation-triangle text-amber-300 mr-2"></i>
              <strong>Let's say v3 is buggy üòÖ</strong> - Users reporting
              errors, you need to go back to v2 immediately.
            </p>
          </div>

          <div class="code-container">
            <div class="code-text" id="rollbackCommand">
              # Simple rollback to previous version kubectl rollout undo
              deployment/express-demo-deploy # OR rollback to specific revision
              kubectl rollout undo deployment/express-demo-deploy
              --to-revision=1 # Check rollback status kubectl rollout status
              deployment/express-demo-deploy # Verify pods are back to v2
              kubectl get pods -w
            </div>
            <div class="copy-btn-wrapper">
              <button
                class="copy-btn no-select"
                onclick="copyCode('rollbackCommand')"
              >
                <i class="fas fa-copy"></i> Copy
              </button>
            </div>
          </div>

          <div class="terminal-output">
            <div class="terminal-line">
              <span class="terminal-prompt">$</span> kubectl rollout undo
              deployment/express-demo-deploy
            </div>
            <div class="terminal-line ml-4 terminal-success">
              deployment.apps/express-demo-deploy rolled back
            </div>
            <div class="terminal-line">
              <span class="terminal-prompt">$</span> kubectl rollout history
              deployment/express-demo-deploy
            </div>
            <div class="terminal-line ml-4">
              deployment.apps/express-demo-deploy
            </div>
            <div class="terminal-line ml-4">
              REVISION&nbsp;&nbsp;CHANGE-CAUSE
            </div>
            <div class="terminal-line ml-4">
              2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;none&gt;
            </div>
            <div class="terminal-line ml-4 terminal-success">
              3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;none&gt;
            </div>
          </div>

          <div class="demo-controls">
            <button class="demo-btn rollback" onclick="startRollback()">
              <i class="fas fa-undo mr-2"></i>Demo Rollback to v2
            </button>
          </div>

          <div class="revision-timeline mt-6">
            <div class="timeline-line"></div>

            <div class="revision-point">
              <div class="revision-dot revision-v2">v2</div>
              <div class="text-sm text-slate-300">Revision 1</div>
              <div class="text-xs text-slate-400">Initial</div>
            </div>

            <div class="revision-point">
              <div class="revision-dot revision-v3">v3</div>
              <div class="text-sm text-slate-300">Revision 2</div>
              <div class="text-xs text-slate-400">Buggy update</div>
            </div>

            <div class="revision-point">
              <div class="revision-dot revision-rollback">v2</div>
              <div class="text-sm text-slate-300">Revision 3</div>
              <div class="text-xs text-slate-400">Rolled back</div>
            </div>
          </div>

          <div class="success-box mt-6">
            <h4 class="font-bold text-green-300 mb-2">
              <i class="fas fa-shield-alt mr-2"></i>Zero panic. Zero downtime.
              Hero DevOps üòéüí™
            </h4>
            <p class="text-slate-300">
              Kubernetes automatically restores old pods. Your app stays up
              while rolling back!
            </p>
          </div>
        </div>
      </section>

      <!-- Bonus: RollingUpdate Strategy -->
      <section class="rollout-card p-5 md:p-6 mb-8">
        <h2 class="text-2xl md:text-3xl font-bold text-purple-300 mb-6">
          <i class="fas fa-cogs mr-3"></i>üî• BONUS ‚Äî Check RollingUpdate
          Strategy
        </h2>

        <div class="code-container">
          <div class="code-text" id="checkStrategy">
            # View deployment strategy details kubectl describe deployment
            express-demo-deploy | grep -A 3 Strategy
          </div>
          <div class="copy-btn-wrapper">
            <button
              class="copy-btn no-select"
              onclick="copyCode('checkStrategy')"
            >
              <i class="fas fa-copy"></i> Copy
            </button>
          </div>
        </div>

        <div class="terminal-output">
          <div class="terminal-line">
            <span class="terminal-prompt">$</span> kubectl describe deployment
            express-demo-deploy | grep -A 3 Strategy
          </div>
          <div class="terminal-line ml-4">
            StrategyType:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RollingUpdate
          </div>
          <div class="terminal-line ml-4">
            RollingUpdateStrategy:&nbsp;25% max unavailable, 25% max surge
          </div>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mt-6">
          <div class="info-box">
            <h3 class="font-bold text-blue-300 mb-3">
              <i class="fas fa-chart-line mr-2"></i>maxUnavailable: 25%
            </h3>
            <p class="text-slate-300">
              Maximum pods that can be unavailable during update.<br />
              With 3 pods ‚Üí max 1 pod can be down at a time.
            </p>
          </div>

          <div class="info-box">
            <h3 class="font-bold text-green-300 mb-3">
              <i class="fas fa-arrow-up mr-2"></i>maxSurge: 25%
            </h3>
            <p class="text-slate-300">
              Maximum extra pods that can be created during update.<br />
              With 3 pods ‚Üí can create 1 extra pod during rollout.
            </p>
          </div>
        </div>

        <div class="comparison-table">
          <table>
            <thead>
              <tr>
                <th>Strategy</th>
                <th>How it Works</th>
                <th>Downtime</th>
                <th>When to Use</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>
                  <span class="font-bold text-green-300">RollingUpdate</span>
                </td>
                <td>Gradually replace pods</td>
                <td>Zero</td>
                <td>Production (default)</td>
              </tr>
              <tr>
                <td><span class="font-bold text-red-300">Recreate</span></td>
                <td>Delete all, create new</td>
                <td>Yes</td>
                <td>Breaking changes</td>
              </tr>
            </tbody>
          </table>
        </div>
      </section>

      <!-- Interactive Practice -->
      <section class="rollout-card p-5 md:p-6 mb-8">
        <h2 class="text-2xl md:text-3xl font-bold text-cyan-300 mb-6">
          <i class="fas fa-gamepad mr-3"></i>üéÆ Interactive Rollout Practice
        </h2>

        <div class="demo-controls">
          <button class="demo-btn" onclick="scaleTo(1)">Scale to 1 Pod</button>
          <button class="demo-btn" onclick="scaleTo(3)">Scale to 3 Pods</button>
          <button class="demo-btn" onclick="scaleTo(5)">Scale to 5 Pods</button>
        </div>

        <div class="code-container">
          <div class="code-text" id="interactiveCommands">
            # Practice Commands You Can Try: # 1. Scale deployment kubectl scale
            deployment express-demo-deploy --replicas=5 # 2. Watch rollout
            status kubectl rollout status deployment/express-demo-deploy -w # 3.
            Pause rollout (useful for canary) kubectl rollout pause
            deployment/express-demo-deploy # 4. Resume rollout kubectl rollout
            resume deployment/express-demo-deploy # 5. Check revisions kubectl
            rollout history deployment/express-demo-deploy --revision=2
          </div>
          <div class="copy-btn-wrapper">
            <button
              class="copy-btn no-select"
              onclick="copyCode('interactiveCommands')"
            >
              <i class="fas fa-copy"></i> Copy
            </button>
          </div>
        </div>

        <div class="success-box">
          <h4 class="font-bold text-green-300 mb-3">
            <i class="fas fa-graduation-cap mr-2"></i>üéì What You've Mastered
          </h4>
          <ul class="grid grid-cols-1 md:grid-cols-2 gap-2 text-slate-300">
            <li class="flex items-start">
              <i class="fas fa-check text-green-400 mt-1 mr-2"></i>
              <span>Build new Docker images for Kubernetes</span>
            </li>
            <li class="flex items-start">
              <i class="fas fa-check text-green-400 mt-1 mr-2"></i>
              <span>Perform zero-downtime deployments (Rollouts)</span>
            </li>
            <li class="flex items-start">
              <i class="fas fa-check text-green-400 mt-1 mr-2"></i>
              <span>Rollback instantly when things go wrong</span>
            </li>
            <li class="flex items-start">
              <i class="fas fa-check text-green-400 mt-1 mr-2"></i>
              <span>Monitor rollout status and history</span>
            </li>
            <li class="flex items-start">
              <i class="fas fa-check text-green-400 mt-1 mr-2"></i>
              <span>Understand RollingUpdate strategy</span>
            </li>
            <li class="flex items-start">
              <i class="fas fa-check text-green-400 mt-1 mr-2"></i>
              <span>Scale deployments up and down</span>
            </li>
          </ul>
        </div>
      </section>

      <!-- Production Tips -->
      <section class="rollout-card p-5 md:p-6">
        <h2 class="text-2xl md:text-3xl font-bold text-amber-300 mb-6">
          <i class="fas fa-rocket mr-3"></i>üöÄ Production Rollout Tips
        </h2>

        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
          <div class="p-4 bg-slate-800/50 rounded">
            <div class="text-2xl mb-3">üè∑Ô∏è</div>
            <h4 class="font-bold text-blue-300 mb-2">
              Change-Cause Annotation
            </h4>
            <p class="text-slate-300 text-sm">
              Add to track why each rollout happened:
            </p>
            <div class="code-container mt-2" style="padding: 10px">
              <div class="code-text">
                kubectl annotate deployment \ express-demo-deploy \
                kubernetes.io/change-cause="v3: Added new API endpoint"
              </div>
            </div>
          </div>

          <div class="p-4 bg-slate-800/50 rounded">
            <div class="text-2xl mb-3">‚è±Ô∏è</div>
            <h4 class="font-bold text-green-300 mb-2">Rollout Timeout</h4>
            <p class="text-slate-300 text-sm">Set progress deadline:</p>
            <div class="code-container mt-2" style="padding: 10px">
              <div class="code-text">
                spec: progressDeadlineSeconds: 600 # 10 minutes timeout
              </div>
            </div>
          </div>

          <div class="p-4 bg-slate-800/50 rounded">
            <div class="text-2xl mb-3">üìä</div>
            <h4 class="font-bold text-purple-300 mb-2">Canary Deployments</h4>
            <p class="text-slate-300 text-sm">Test with 1 pod first:</p>
            <div class="code-container mt-2" style="padding: 10px">
              <div class="code-text">
                # Update one pod, pause rollout kubectl set image... && kubectl
                rollout pause
              </div>
            </div>
          </div>
        </div>

        <div class="success-box success-animation mt-6">
          <h4 class="font-bold text-green-300 mb-3">
            <i class="fas fa-trophy mr-2"></i>üéâ You're Now a Rollout Expert!
          </h4>
          <p class="text-slate-300">
            From building images to rolling back buggy deployments ‚Äî you've
            mastered production-grade Kubernetes deployment workflows!
          </p>
          <p class="text-slate-400 text-sm mt-2">
            Next: Learn ConfigMaps, Secrets, Ingress, and Helm for complete
            production setup! üöÄ
          </p>
        </div>
      </section>

      <!-- Footer -->
      <footer class="text-center mt-12 mb-8">
        <div class="text-slate-400 mb-4">
          <p class="text-lg">You've mastered zero-downtime deployments! üí™</p>
          <p class="text-slate-500 text-sm mt-2">
            Rollout confidently, rollback instantly ‚Äî that's DevOps superpower!
            ‚ö°
          </p>
        </div>

        <div class="flex flex-wrap justify-center gap-4">
          <span class="px-4 py-2 bg-purple-500/20 text-purple-300 rounded-full">
            <i class="fas fa-sync-alt mr-2"></i>Rollout Mastered
          </span>
          <span class="px-4 py-2 bg-blue-500/20 text-blue-300 rounded-full">
            <i class="fas fa-undo mr-2"></i>Rollback Expert
          </span>
          <span class="px-4 py-2 bg-green-500/20 text-green-300 rounded-full">
            <i class="fas fa-clock mr-2"></i>Zero Downtime Pro
          </span>
        </div>

        <div class="mt-6 text-slate-500 text-sm">
          <p>
            Remember: Test in staging, rollout in production, always have a
            rollback plan! üîÑ‚úÖ
          </p>
        </div>
      </footer>
    </div>

    <script>
      // Copy to clipboard functionality
      function copyCode(elementId) {
        const element = document.getElementById(elementId);
        let text = element.innerText || element.textContent;

        text = text.trim();

        navigator.clipboard
          .writeText(text)
          .then(() => {
            const button =
              element.parentElement.querySelector('.copy-btn') ||
              element.parentElement.parentElement.querySelector('.copy-btn');
            const originalText = button.innerHTML;

            button.innerHTML = '<i class="fas fa-check"></i> Copied!';
            button.classList.add('copied');

            setTimeout(() => {
              button.innerHTML = originalText;
              button.classList.remove('copied');
            }, 2000);
          })
          .catch((err) => {
            console.error('Failed to copy: ', err);
          });
      }

      // Initialize pod visualization
      function initializePods() {
        const podCluster = document.getElementById('podCluster');
        const v2Pods = document.getElementById('v2Pods');
        const v3Pods = document.getElementById('v3Pods');

        // Clear existing pods
        podCluster.innerHTML = '';
        if (v2Pods) v2Pods.innerHTML = '';
        if (v3Pods) v3Pods.innerHTML = '';

        // Create v2 pods (current)
        for (let i = 1; i <= 3; i++) {
          const pod = document.createElement('div');
          pod.className = 'pod-box pod-v2';
          pod.style.setProperty('--delay', `${(i - 1) * 0.3}s`);
          pod.innerHTML = `
                    <div class="text-lg mb-1">üì¶</div>
                    <div class="font-bold">Pod ${i}</div>
                    <div class="text-xs">v2</div>
                `;
          podCluster.appendChild(pod);

          if (v2Pods) {
            const v2Pod = pod.cloneNode(true);
            v2Pods.appendChild(v2Pod);
          }
        }
      }

      // Start rollout animation
      function startRollout() {
        const podCluster = document.getElementById('podCluster');
        const rollingAnimation = document.getElementById('rollingAnimation');

        // Show rolling animation
        rollingAnimation.style.display = 'block';

        // Clear pods
        podCluster.innerHTML = '';

        // Animate from v2 to v3
        setTimeout(() => {
          // Create v3 pods one by one
          for (let i = 1; i <= 3; i++) {
            setTimeout(() => {
              const pod = document.createElement('div');
              pod.className = 'pod-box pod-v3 fade-in';
              pod.style.setProperty('--delay', `${(i - 1) * 0.3}s`);
              pod.innerHTML = `
                            <div class="text-lg mb-1">üì¶</div>
                            <div class="font-bold">Pod ${i}</div>
                            <div class="text-xs">v3</div>
                        `;
              podCluster.appendChild(pod);
            }, i * 500);
          }

          // Hide rolling animation
          setTimeout(() => {
            rollingAnimation.style.display = 'none';

            // Show success message
            const successMsg = document.createElement('div');
            successMsg.className = 'success-box mt-4';
            successMsg.innerHTML = `
                        <h4 class="font-bold text-green-300 mb-2">
                            <i class="fas fa-check-circle mr-2"></i>Rollout Successful! üéâ
                        </h4>
                        <p class="text-slate-300">All pods now running v3 with zero downtime!</p>
                    `;

            // Add after rollout visualization
            const rolloutSection = document.querySelector('.rollout-visual');
            rolloutSection.parentNode.insertBefore(
              successMsg,
              rolloutSection.nextSibling,
            );
          }, 2000);
        }, 1000);
      }

      // Start rollback animation
      function startRollback() {
        const podCluster = document.getElementById('podCluster');
        const rollingAnimation = document.getElementById('rollingAnimation');

        // Show rolling animation
        rollingAnimation.textContent = 'üîÑ Rolling back...';
        rollingAnimation.style.display = 'block';

        // Clear pods
        podCluster.innerHTML = '';

        // Animate from v3 to v2
        setTimeout(() => {
          // Create v2 pods one by one
          for (let i = 1; i <= 3; i++) {
            setTimeout(() => {
              const pod = document.createElement('div');
              pod.className = 'pod-box pod-v2 fade-in';
              pod.style.setProperty('--delay', `${(i - 1) * 0.3}s`);
              pod.innerHTML = `
                            <div class="text-lg mb-1">üì¶</div>
                            <div class="font-bold">Pod ${i}</div>
                            <div class="text-xs">v2</div>
                        `;
              podCluster.appendChild(pod);
            }, i * 500);
          }

          // Hide rolling animation
          setTimeout(() => {
            rollingAnimation.style.display = 'none';

            // Show success message
            const successMsg = document.createElement('div');
            successMsg.className = 'success-box mt-4';
            successMsg.innerHTML = `
                        <h4 class="font-bold text-green-300 mb-2">
                            <i class="fas fa-check-circle mr-2"></i>Rollback Successful! üõ°Ô∏è
                        </h4>
                        <p class="text-slate-300">Back to v2 with zero downtime!</p>
                    `;

            // Add after rollout visualization
            const rolloutSection = document.querySelector('.rollout-visual');
            rolloutSection.parentNode.insertBefore(
              successMsg,
              rolloutSection.nextSibling,
            );
          }, 2000);
        }, 1000);
      }

      // Scale pods demonstration
      function scaleTo(count) {
        const podCluster = document.getElementById('podCluster');
        podCluster.innerHTML = '';

        for (let i = 1; i <= count; i++) {
          const pod = document.createElement('div');
          pod.className = 'pod-box pod-v2 fade-in';
          pod.style.setProperty('--delay', `${(i - 1) * 0.2}s`);
          pod.innerHTML = `
                    <div class="text-lg mb-1">üì¶</div>
                    <div class="font-bold">Pod ${i}</div>
                    <div class="text-xs">Scaled</div>
                `;
          podCluster.appendChild(pod);
        }
      }

      // Initialize when page loads
      document.addEventListener('DOMContentLoaded', () => {
        initializePods();

        // Make buttons touch-friendly
        document
          .querySelectorAll('.copy-btn, .demo-btn, button')
          .forEach((btn) => {
            btn.classList.add('touch-target');
          });

        // Add syntax highlighting
        const codeElements = document.querySelectorAll('.code-text');
        codeElements.forEach((element) => {
          let code = element.innerHTML;

          // Highlight comments
          code = code.replace(/#.*$/gm, '<span class="code-comment">$&</span>');

          // Highlight kubectl commands
          code = code.replace(
            /\b(kubectl|set|image|deployment|rollout|status|undo|history|describe|grep)\b/g,
            '<span class="code-keyword">$1</span>',
          );

          // Highlight numbers
          code = code.replace(
            /\b(\d+)\b/g,
            '<span class="code-number">$1</span>',
          );

          // Highlight image tags
          code = code.replace(
            /(express-demo:v[23]|node:[\w-]+)/g,
            '<span class="code-string">$1</span>',
          );

          element.innerHTML = code;
        });
      });

      // Add CSS for animations
      const style = document.createElement('style');
      style.textContent = `
            @keyframes fadeIn {
                from { opacity: 0; transform: translateY(20px); }
                to { opacity: 1; transform: translateY(0); }
            }
            
            .fade-in {
                animation: fadeIn 0.6s ease-out;
            }
        `;
      document.head.appendChild(style);
    </script>
  </body>
</html>
