<!DOCTYPE html>
<html lang="en" class="dark">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes"
    />
    <title>üöÄ Kubernetes Scaling & Load Balancing - Complete Guide</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
    />
    <style>
      @import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;400;500;700&family=Inter:wght@300;400;500;600;700&display=swap');

      body {
        font-family: 'Inter', sans-serif;
        background: linear-gradient(
          135deg,
          #0f172a 0%,
          #1e293b 50%,
          #334155 100%
        );
        color: #e2e8f0;
        min-height: 100vh;
        overflow-x: hidden;
      }

      .gradient-text {
        background: linear-gradient(45deg, #00d8ff, #9d4edd, #00d8ff);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        background-size: 200% auto;
        animation: gradient 3s ease infinite;
      }

      @keyframes gradient {
        0%,
        100% {
          background-position: 0% 50%;
        }
        50% {
          background-position: 100% 50%;
        }
      }

      .scale-card {
        background: rgba(30, 41, 59, 0.9);
        backdrop-filter: blur(10px);
        border-radius: 16px;
        border: 1px solid rgba(71, 85, 105, 0.3);
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
      }

      .scale-card:hover {
        transform: translateY(-3px);
        box-shadow: 0 15px 30px rgba(157, 78, 221, 0.15);
        border-color: #9d4edd;
      }

      .method-card {
        background: rgba(30, 41, 59, 0.8);
        border-radius: 16px;
        border: 1px solid rgba(71, 85, 105, 0.3);
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
        margin-bottom: 20px;
      }

      .method-card:hover {
        transform: translateY(-2px);
        box-shadow: 0 10px 25px rgba(59, 130, 246, 0.1);
      }

      .method-badge {
        position: absolute;
        top: -12px;
        left: 20px;
        width: 40px;
        height: 40px;
        background: linear-gradient(135deg, #9d4edd, #c77dff);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: bold;
        color: white;
        font-size: 1.2rem;
        box-shadow: 0 5px 15px rgba(157, 78, 221, 0.3);
        z-index: 2;
      }

      .code-container {
        background: #0f172a;
        border-left: 4px solid #3b82f6;
        border-radius: 8px;
        font-family: 'JetBrains Mono', monospace;
        position: relative;
        overflow: hidden;
        padding: 20px;
        margin: 15px 0;
      }

      .code-text {
        color: #ffffff;
        font-size: 0.95rem;
        line-height: 1.6;
        word-break: break-word;
        padding-right: 100px;
        overflow-x: auto;
        white-space: pre-wrap;
      }

      .copy-btn-wrapper {
        position: absolute;
        top: 10px;
        right: 10px;
        z-index: 10;
      }

      .copy-btn {
        background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
        color: white;
        border: none;
        padding: 8px 16px;
        border-radius: 6px;
        font-weight: 600;
        font-size: 0.85rem;
        transition: all 0.3s ease;
        cursor: pointer;
        min-height: 36px;
        display: flex;
        align-items: center;
        justify-content: center;
        white-space: nowrap;
      }

      .copy-btn:hover {
        background: linear-gradient(135deg, #60a5fa 0%, #3b82f6 100%);
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(59, 130, 246, 0.3);
      }

      .copy-btn.copied {
        background: linear-gradient(135deg, #10b981 0%, #059669 100%);
      }

      .terminal-output {
        background: #1e293b;
        border-radius: 8px;
        padding: 15px;
        margin: 10px 0;
        font-family: 'JetBrains Mono', monospace;
        overflow-x: auto;
      }

      .terminal-line {
        margin: 5px 0;
        color: #e2e8f0;
      }

      .terminal-prompt {
        color: #10b981;
        font-weight: bold;
      }

      .terminal-success {
        color: #22c55e;
      }

      .terminal-warning {
        color: #f59e0b;
      }

      .scaling-visual {
        display: flex;
        flex-direction: column;
        align-items: center;
        padding: 30px;
        background: rgba(15, 23, 42, 0.5);
        border-radius: 12px;
        margin: 20px 0;
        border: 2px solid #334155;
        position: relative;
        min-height: 300px;
      }

      .pod-cluster {
        display: flex;
        justify-content: center;
        gap: 20px;
        margin: 20px 0;
        flex-wrap: wrap;
      }

      .pod-box {
        background: linear-gradient(135deg, #9d4edd, #7b2cbf);
        color: white;
        padding: 15px;
        border-radius: 10px;
        text-align: center;
        min-width: 120px;
        animation: pulse 2s infinite;
        animation-delay: var(--delay);
        position: relative;
      }

      @keyframes pulse {
        0%,
        100% {
          transform: scale(1);
          box-shadow: 0 0 15px rgba(157, 78, 221, 0.3);
        }
        50% {
          transform: scale(1.05);
          box-shadow: 0 0 25px rgba(157, 78, 221, 0.6);
        }
      }

      .load-balancer {
        background: linear-gradient(135deg, #3b82f6, #1d4ed8);
        color: white;
        padding: 15px 30px;
        border-radius: 10px;
        text-align: center;
        margin-bottom: 20px;
        position: relative;
      }

      .traffic-flow {
        position: absolute;
        width: 100%;
        height: 100%;
        pointer-events: none;
        top: 0;
        left: 0;
      }

      .traffic-dot {
        position: absolute;
        background: #22c55e;
        width: 8px;
        height: 8px;
        border-radius: 50%;
        animation: moveTraffic 3s linear infinite;
      }

      @keyframes moveTraffic {
        0% {
          transform: translate(0, 0);
          opacity: 0;
        }
        10% {
          opacity: 1;
        }
        90% {
          opacity: 1;
        }
        100% {
          transform: translate(
            calc(100px * var(--dx)),
            calc(100px * var(--dy))
          );
          opacity: 0;
        }
      }

      .info-box {
        background: linear-gradient(
          135deg,
          rgba(59, 130, 246, 0.1),
          rgba(37, 99, 235, 0.1)
        );
        border-left: 4px solid #3b82f6;
        border-radius: 0 8px 8px 0;
        padding: 15px;
        margin: 15px 0;
      }

      .success-box {
        background: linear-gradient(
          135deg,
          rgba(34, 197, 94, 0.1),
          rgba(21, 128, 61, 0.1)
        );
        border-left: 4px solid #22c55e;
        border-radius: 0 8px 8px 0;
        padding: 15px;
        margin: 15px 0;
      }

      .warning-box {
        background: linear-gradient(
          135deg,
          rgba(245, 158, 11, 0.1),
          rgba(217, 119, 6, 0.1)
        );
        border-left: 4px solid #f59e0b;
        border-radius: 0 8px 8px 0;
        padding: 15px;
        margin: 15px 0;
      }

      .comparison-table {
        width: 100%;
        border-collapse: collapse;
        margin: 20px 0;
        background: rgba(30, 41, 59, 0.5);
        border-radius: 10px;
        overflow: hidden;
      }

      .comparison-table th {
        background: rgba(157, 78, 221, 0.3);
        padding: 15px;
        text-align: left;
        color: #e2e8f0;
        border-bottom: 2px solid #334155;
      }

      .comparison-table td {
        padding: 12px 15px;
        border-bottom: 1px solid #334155;
        color: #cbd5e1;
      }

      .comparison-table tr:hover {
        background: rgba(157, 78, 221, 0.1);
      }

      .service-types {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 15px;
        margin: 20px 0;
      }

      .service-card {
        background: rgba(30, 41, 59, 0.6);
        border-radius: 10px;
        padding: 20px;
        transition: all 0.3s ease;
        border: 2px solid transparent;
      }

      .service-card:hover {
        transform: translateY(-3px);
        box-shadow: 0 5px 15px rgba(59, 130, 246, 0.2);
      }

      .service-card.clusterip {
        border-color: #3b82f6;
      }

      .service-card.nodeport {
        border-color: #f59e0b;
      }

      .service-card.loadbalancer {
        border-color: #10b981;
      }

      .service-card.ingress {
        border-color: #8b5cf6;
      }

      .horizontal-scaling {
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 20px;
        background: rgba(15, 23, 42, 0.3);
        border-radius: 12px;
        margin: 20px 0;
      }

      .pod-scale {
        display: flex;
        align-items: center;
        transition: all 0.5s ease;
      }

      .pod-item {
        background: linear-gradient(135deg, #9d4edd, #7b2cbf);
        color: white;
        padding: 15px;
        border-radius: 10px;
        margin: 0 10px;
        text-align: center;
        min-width: 100px;
      }

      .scale-arrow {
        font-size: 2rem;
        margin: 0 20px;
        color: #f59e0b;
      }

      /* Mobile-specific improvements */
      @media (max-width: 767px) {
        .scale-card,
        .method-card {
          padding: 20px 15px !important;
          margin: 8px 0;
        }

        .code-container {
          padding: 15px;
          padding-right: 80px;
        }

        .code-text {
          font-size: 0.85rem;
          padding-right: 70px;
        }

        .copy-btn {
          padding: 6px 12px;
          font-size: 0.8rem;
          min-height: 32px;
        }

        .pod-cluster {
          gap: 10px;
        }

        .pod-box {
          min-width: 100px;
          padding: 10px;
          font-size: 0.9rem;
        }

        .service-types {
          grid-template-columns: 1fr;
        }
      }

      /* Touch-friendly improvements */
      .touch-target {
        min-height: 44px;
        min-width: 44px;
      }

      /* Syntax highlighting */
      .code-keyword {
        color: #c586c0;
      }
      .code-string {
        color: #ce9178;
      }
      .code-number {
        color: #b5cea8;
      }
      .code-comment {
        color: #6a9955;
      }

      /* Animation for scaling */
      @keyframes scaleUp {
        0% {
          transform: scale(0.8);
          opacity: 0;
        }
        100% {
          transform: scale(1);
          opacity: 1;
        }
      }

      .scale-up {
        animation: scaleUp 0.5s ease-out;
      }

      /* Interactive demo */
      .interactive-demo {
        background: rgba(15, 23, 42, 0.7);
        border-radius: 12px;
        padding: 20px;
        margin: 20px 0;
        border: 2px solid #334155;
      }

      .demo-controls {
        display: flex;
        gap: 10px;
        margin: 15px 0;
        flex-wrap: wrap;
      }

      .demo-btn {
        background: linear-gradient(135deg, #3b82f6, #1d4ed8);
        color: white;
        border: none;
        padding: 10px 20px;
        border-radius: 6px;
        cursor: pointer;
        transition: all 0.3s ease;
      }

      .demo-btn:hover {
        background: linear-gradient(135deg, #60a5fa, #3b82f6);
        transform: translateY(-2px);
      }

      .demo-btn.active {
        background: linear-gradient(135deg, #10b981, #059669);
      }
    </style>
  </head>
  <body class="min-h-screen p-4 md:p-6 lg:p-8">
    <div class="max-w-6xl mx-auto">
      <!-- Hero Header -->
      <header class="text-center mb-10 md:mb-12">
        <div class="scale-card p-6 mb-8">
          <h1
            class="text-3xl md:text-4xl lg:text-5xl font-bold gradient-text mb-4"
          >
            üöÄ Kubernetes Scaling & Load Balancing
          </h1>
          <p class="text-xl md:text-2xl text-slate-300 mb-6">
            Master Horizontal Scaling & Smart Traffic Distribution
          </p>

          <div class="flex flex-wrap justify-center gap-3 mb-6">
            <span
              class="px-4 py-2 bg-purple-500/20 text-purple-300 rounded-full border border-purple-500/30"
            >
              <i class="fas fa-expand-alt mr-2"></i>Horizontal Scaling
            </span>
            <span
              class="px-4 py-2 bg-blue-500/20 text-blue-300 rounded-full border border-blue-500/30"
            >
              <i class="fas fa-balance-scale mr-2"></i>Load Balancing
            </span>
            <span
              class="px-4 py-2 bg-green-500/20 text-green-300 rounded-full border border-green-500/30"
            >
              <i class="fas fa-bolt mr-2"></i>Auto Scaling
            </span>
          </div>

          <div class="scaling-visual">
            <div class="load-balancer">
              <div class="text-xl mb-2">‚öñÔ∏è</div>
              <div class="font-bold">Load Balancer</div>
              <div class="text-sm">Port 32000</div>
            </div>

            <div class="pod-cluster" id="podCluster">
              <!-- Pods will be dynamically added here -->
            </div>

            <div class="traffic-flow" id="trafficFlow"></div>
          </div>
        </div>
      </header>

      <!-- Two Scaling Methods -->
      <section class="scale-card p-5 md:p-6 mb-8">
        <h2 class="text-2xl md:text-3xl font-bold text-cyan-300 mb-6">
          <i class="fas fa-arrows-alt-h mr-3"></i>üöÄ Two Ways to Scale Your App
        </h2>

        <!-- Method 1: Fast Way -->
        <div class="method-card p-5 md:p-6">
          <div class="method-badge">ü•á</div>
          <div class="pt-8">
            <h3 class="text-xl md:text-2xl font-bold text-green-300 mb-4">
              <i class="fas fa-bolt mr-2"></i>1Ô∏è‚É£ Fast Way (Immediate Scaling)
            </h3>

            <div class="code-container">
              <div class="code-text" id="fastScale">
                # Scale deployment to 3 replicas kubectl scale deployment
                express-demo-deploy --replicas=3 # Check scaled pods kubectl get
                pods
              </div>
              <div class="copy-btn-wrapper">
                <button
                  class="copy-btn no-select"
                  onclick="copyCode('fastScale')"
                >
                  <i class="fas fa-copy"></i> Copy
                </button>
              </div>
            </div>

            <div class="terminal-output">
              <div class="terminal-line">
                <span class="terminal-prompt">$</span> kubectl scale deployment
                express-demo-deploy --replicas=3
              </div>
              <div class="terminal-line ml-4 terminal-success">
                deployment.apps/express-demo-deploy scaled
              </div>
              <div class="terminal-line">
                <span class="terminal-prompt">$</span> kubectl get pods
              </div>
              <div class="terminal-line ml-4">
                NAME&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;READY&nbsp;&nbsp;STATUS&nbsp;&nbsp;&nbsp;RESTARTS&nbsp;&nbsp;AGE
              </div>
              <div class="terminal-line ml-4 terminal-success">
                express-demo-deploy-abc1&nbsp;&nbsp;1/1&nbsp;&nbsp;&nbsp;&nbsp;Running&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;10s
              </div>
              <div class="terminal-line ml-4 terminal-success">
                express-demo-deploy-abc2&nbsp;&nbsp;1/1&nbsp;&nbsp;&nbsp;&nbsp;Running&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;8s
              </div>
              <div class="terminal-line ml-4 terminal-success">
                express-demo-deploy-abc3&nbsp;&nbsp;1/1&nbsp;&nbsp;&nbsp;&nbsp;Running&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;5s
              </div>
            </div>

            <div class="success-box">
              <h4 class="font-bold text-green-300 mb-2">
                <i class="fas fa-check-circle mr-2"></i>üéâ Boom! App Scaled
              </h4>
              <p class="text-slate-300">
                Your app now runs 3 containers behind your service
                automatically. Your Service already does load balancing!
              </p>
              <div class="mt-2">
                <code class="text-cyan-300">http://localhost:32000</code> or
                <code class="text-cyan-300">http://192.168.49.2:32000</code>
              </div>
              <p class="text-slate-300 mt-2">
                Will distribute traffic to all 3 pods üü¢üü¢üü¢
              </p>
            </div>
          </div>
        </div>

        <!-- Method 2: Proper Way -->
        <div class="method-card p-5 md:p-6 mt-6">
          <div class="method-badge">üìù</div>
          <div class="pt-8">
            <h3 class="text-xl md:text-2xl font-bold text-blue-300 mb-4">
              <i class="fas fa-code mr-2"></i>2Ô∏è‚É£ Proper Way (YAML Configuration)
            </h3>

            <p class="text-slate-300 mb-4">Edit your deployment YAML file:</p>

            <div class="file-container">
              <div class="file-header">
                <span class="text-blue-300 font-bold"
                  >express-deploy.yaml (updated)</span
                >
                <div class="copy-btn-wrapper">
                  <button
                    class="copy-btn no-select"
                    onclick="copyCode('yamlScale')"
                  >
                    <i class="fas fa-copy"></i> Copy
                  </button>
                </div>
              </div>
              <div class="file-content">
                <div class="code-text" id="yamlScale">
                  apiVersion: apps/v1 kind: Deployment metadata: name:
                  express-demo-deploy spec: replicas: 3 # ‚Üê Changed from 1 to 3
                  selector: matchLabels: app: express-demo template: metadata:
                  labels: app: express-demo spec: containers: - name:
                  express-container image: express-demo:v2 ports: -
                  containerPort: 3000
                </div>
              </div>
            </div>

            <div class="code-container mt-4">
              <div class="code-text" id="applyYaml">
                # Apply the updated configuration kubectl apply -f
                express-deploy.yaml # Check pods kubectl get pods
              </div>
              <div class="copy-btn-wrapper">
                <button
                  class="copy-btn no-select"
                  onclick="copyCode('applyYaml')"
                >
                  <i class="fas fa-copy"></i> Copy
                </button>
              </div>
            </div>

            <div class="info-box mt-4">
              <h4 class="font-bold text-cyan-300 mb-2">
                <i class="fas fa-star mr-2"></i>Preferred in Real Projects
              </h4>
              <p class="text-slate-300">
                This is preferred because scaling becomes part of
                version-controlled configuration. Same result üòé
              </p>
            </div>
          </div>
        </div>

        <!-- Verification Commands -->
        <div class="mt-6">
          <h3 class="text-lg font-bold text-amber-300 mb-4">
            <i class="fas fa-search mr-2"></i>üîç Verify Scaling Works
          </h3>

          <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
            <div class="command-line">
              <span class="terminal-prompt">$</span>
              <span class="text-white ml-2">kubectl get deployment</span>
              <p class="text-slate-400 text-sm mt-1">Check deployment status</p>
            </div>

            <div class="command-line">
              <span class="terminal-prompt">$</span>
              <span class="text-white ml-2">kubectl get pods -w</span>
              <p class="text-slate-400 text-sm mt-1">
                Watch pods while scaling
              </p>
            </div>

            <div class="command-line">
              <span class="terminal-prompt">$</span>
              <span class="text-white ml-2"
                >kubectl describe deployment express-demo-deploy</span
              >
              <p class="text-slate-400 text-sm mt-1">
                Detailed deployment info
              </p>
            </div>
          </div>
        </div>
      </section>

      <!-- Load Balancing Explained -->
      <section class="scale-card p-5 md:p-6 mb-8">
        <h2 class="text-2xl md:text-3xl font-bold text-purple-300 mb-6">
          <i class="fas fa-balance-scale mr-3"></i>‚öñÔ∏è What is a Load Balancer?
        </h2>

        <div class="info-box">
          <p class="text-slate-300">
            <i class="fas fa-traffic-light text-green-400 mr-2"></i>
            <strong>A Load Balancer is a smart traffic controller üö¶</strong>
            that sits in front of your application and distributes incoming
            requests across multiple pods/servers.
          </p>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <div class="warning-box">
            <h3 class="font-bold text-red-300 mb-3">
              <i class="fas fa-times-circle mr-2"></i>Without Load Balancer
            </h3>
            <ul class="space-y-2 text-slate-300">
              <li class="flex items-start">
                <i
                  class="fas fa-exclamation-triangle text-red-400 mt-1 mr-2"
                ></i>
                <span>One pod gets all traffic üò´</span>
              </li>
              <li class="flex items-start">
                <i
                  class="fas fa-exclamation-triangle text-red-400 mt-1 mr-2"
                ></i>
                <span>Other pods sit idle</span>
              </li>
              <li class="flex items-start">
                <i
                  class="fas fa-exclamation-triangle text-red-400 mt-1 mr-2"
                ></i>
                <span>Overloaded pod may crash üö®</span>
              </li>
              <li class="flex items-start">
                <i
                  class="fas fa-exclamation-triangle text-red-400 mt-1 mr-2"
                ></i>
                <span>Website becomes slow or down ‚ùå</span>
              </li>
            </ul>
          </div>

          <div class="success-box">
            <h3 class="font-bold text-green-300 mb-3">
              <i class="fas fa-check-circle mr-2"></i>With Load Balancer
            </h3>
            <ul class="space-y-2 text-slate-300">
              <li class="flex items-start">
                <i class="fas fa-check text-green-400 mt-1 mr-2"></i>
                <span>Requests shared equally üòä</span>
              </li>
              <li class="flex items-start">
                <i class="fas fa-check text-green-400 mt-1 mr-2"></i>
                <span>No single pod overwhelmed</span>
              </li>
              <li class="flex items-start">
                <i class="fas fa-check text-green-400 mt-1 mr-2"></i>
                <span>App stays fast ‚ö°</span>
              </li>
              <li class="flex items-start">
                <i class="fas fa-check text-green-400 mt-1 mr-2"></i>
                <span>High availability üëç</span>
              </li>
            </ul>
          </div>
        </div>

        <!-- Real Life Example -->
        <div
          class="mt-6 p-4 bg-gradient-to-r from-amber-900/20 to-yellow-900/20 rounded-lg"
        >
          <h3 class="font-bold text-amber-300 mb-3">
            <i class="fas fa-utensils mr-2"></i>üì¶ Simple Real-Life Example:
            Restaurant üçΩÔ∏è
          </h3>
          <div class="grid grid-cols-1 md:grid-cols-3 gap-4 text-center">
            <div class="p-4 bg-slate-800/50 rounded">
              <div class="text-2xl mb-2">üë•</div>
              <div class="font-bold text-blue-300">Customers</div>
              <p class="text-slate-300 text-sm">Users sending requests</p>
            </div>

            <div class="p-4 bg-slate-800/50 rounded">
              <div class="text-2xl mb-2">üë®‚Äçüç≥</div>
              <div class="font-bold text-green-300">Waiters</div>
              <p class="text-slate-300 text-sm">Pods handling requests</p>
            </div>

            <div class="p-4 bg-slate-800/50 rounded">
              <div class="text-2xl mb-2">üëî</div>
              <div class="font-bold text-purple-300">Manager</div>
              <p class="text-slate-300 text-sm">Load Balancer distributing</p>
            </div>
          </div>
          <p class="text-slate-300 mt-4 text-center">
            Restaurant Manager distributes customers to free waiters evenly.
            That's exactly what Load Balancer does!
          </p>
        </div>
      </section>

      <!-- Service Types Explained -->
      <section class="scale-card p-5 md:p-6 mb-8">
        <h2 class="text-2xl md:text-3xl font-bold text-cyan-300 mb-6">
          <i class="fas fa-network-wired mr-3"></i>üèóÔ∏è Types of Load Balancing in
          Kubernetes
        </h2>

        <div class="service-types">
          <!-- ClusterIP -->
          <div class="service-card clusterip">
            <div class="text-2xl mb-3">üè†</div>
            <h3 class="font-bold text-blue-300 mb-2">1Ô∏è‚É£ ClusterIP</h3>
            <p class="text-slate-300 text-sm mb-3">"Inside Home Only"</p>
            <ul class="space-y-2 text-slate-300 text-sm">
              <li>‚úÖ Only inside Kubernetes</li>
              <li>‚úÖ Other pods can talk</li>
              <li>‚ùå NOT accessible from browser</li>
            </ul>
            <div class="mt-4">
              <div class="code-container" style="padding: 10px; margin: 0">
                <div class="code-text">
                  kubectl expose deployment \ --port=3000 --type=ClusterIP
                </div>
              </div>
            </div>
          </div>

          <!-- NodePort -->
          <div class="service-card nodeport">
            <div class="text-2xl mb-3">üö™</div>
            <h3 class="font-bold text-amber-300 mb-2">2Ô∏è‚É£ NodePort</h3>
            <p class="text-slate-300 text-sm mb-3">"Open Door of House"</p>
            <ul class="space-y-2 text-slate-300 text-sm">
              <li>‚úÖ Opens port on system</li>
              <li>‚úÖ Access from browser</li>
              <li>‚úÖ What YOU are using now üëè</li>
            </ul>
            <div class="mt-4">
              <div class="code-container" style="padding: 10px; margin: 0">
                <div class="code-text">
                  # Your current setup kubectl expose deployment \
                  --type=NodePort --port=3000
                </div>
              </div>
            </div>
          </div>

          <!-- LoadBalancer -->
          <div class="service-card loadbalancer">
            <div class="text-2xl mb-3">üåç</div>
            <h3 class="font-bold text-green-300 mb-2">3Ô∏è‚É£ LoadBalancer</h3>
            <p class="text-slate-300 text-sm mb-3">"Society Security Gate"</p>
            <ul class="space-y-2 text-slate-300 text-sm">
              <li>‚úÖ Cloud gives Public IP</li>
              <li>‚úÖ Handles traffic automatically</li>
              <li>‚úÖ Production ready</li>
            </ul>
            <div class="mt-4">
              <div class="code-container" style="padding: 10px; margin: 0">
                <div class="code-text">
                  spec: type: LoadBalancer # Cloud gives: http://35.123.45.9
                </div>
              </div>
            </div>
          </div>

          <!-- Ingress -->
          <div class="service-card ingress">
            <div class="text-2xl mb-3">üõ£Ô∏è</div>
            <h3 class="font-bold text-purple-300 mb-2">4Ô∏è‚É£ Ingress</h3>
            <p class="text-slate-300 text-sm mb-3">"Highway + Google Maps"</p>
            <ul class="space-y-2 text-slate-300 text-sm">
              <li>‚úÖ Custom domains + HTTPS</li>
              <li>‚úÖ One LB ‚Üí Many Apps</li>
              <li>‚úÖ Professional routing</li>
            </ul>
            <div class="mt-4">
              <div class="code-container" style="padding: 10px; margin: 0">
                <div class="code-text">
                  # Routes like: # /api ‚Üí backend # / ‚Üí frontend # /auth ‚Üí
                  auth-service
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="comparison-table">
          <table>
            <thead>
              <tr>
                <th>Type</th>
                <th>Who Can Access</th>
                <th>Real World Meaning</th>
                <th>When to Use</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><span class="font-bold text-blue-300">ClusterIP</span></td>
                <td>Only inside Kubernetes</td>
                <td>Private Printer üñ®Ô∏è</td>
                <td>Microservices talking internally</td>
              </tr>
              <tr>
                <td><span class="font-bold text-amber-300">NodePort</span></td>
                <td>From your laptop/browser</td>
                <td>House Main Door üö™</td>
                <td>Local development & learning</td>
              </tr>
              <tr>
                <td>
                  <span class="font-bold text-green-300">LoadBalancer</span>
                </td>
                <td>Internet Public Users</td>
                <td>Society Main Gate üõ°Ô∏è</td>
                <td>Production websites on cloud</td>
              </tr>
              <tr>
                <td><span class="font-bold text-purple-300">Ingress</span></td>
                <td>Internet + Domains + Routing</td>
                <td>Highway + Google Maps üó∫Ô∏è</td>
                <td>Real production companies</td>
              </tr>
            </tbody>
          </table>
        </div>
      </section>

      <!-- Interactive Demo -->
      <section class="scale-card p-5 md:p-6 mb-8">
        <h2 class="text-2xl md:text-3xl font-bold text-green-300 mb-6">
          <i class="fas fa-flask mr-3"></i>üß™ Let's PROVE Load Balancing (Fun
          Demo!)
        </h2>

        <div class="interactive-demo">
          <div class="horizontal-scaling">
            <div class="pod-scale" id="podScale">
              <!-- Pods will be added here by JavaScript -->
            </div>
          </div>

          <div class="demo-controls">
            <button class="demo-btn" onclick="scalePods(1)">
              Scale to 1 Pod
            </button>
            <button class="demo-btn active" onclick="scalePods(3)">
              Scale to 3 Pods
            </button>
            <button class="demo-btn" onclick="scalePods(5)">
              Scale to 5 Pods
            </button>
            <button class="demo-btn" onclick="scalePods(10)">
              Scale to 10 Pods
            </button>
          </div>

          <div class="terminal-output">
            <div class="terminal-line">
              <span class="terminal-prompt">$</span> kubectl scale deployment
              express-demo-deploy --replicas=3
            </div>
            <div class="terminal-line ml-4 terminal-success">
              deployment.apps/express-demo-deploy scaled
            </div>
            <div class="terminal-line">
              <span class="terminal-prompt">$</span> kubectl exec -it
              express-demo-deploy-abc1 -- sh
            </div>
            <div class="terminal-line ml-4">
              <span class="terminal-warning">Pod1:</span> Handling request from
              user...
            </div>
            <div class="terminal-line">
              <span class="terminal-prompt">$</span> kubectl exec -it
              express-demo-deploy-abc2 -- sh
            </div>
            <div class="terminal-line ml-4">
              <span class="terminal-warning">Pod2:</span> Handling request from
              user...
            </div>
            <div class="terminal-line">
              <span class="terminal-prompt">$</span> kubectl exec -it
              express-demo-deploy-abc3 -- sh
            </div>
            <div class="terminal-line ml-4">
              <span class="terminal-warning">Pod3:</span> Handling request from
              user...
            </div>
            <div class="terminal-line">
              <span class="terminal-prompt">‚Üí</span>
              <span class="text-cyan-300"
                >Refresh browser multiple times ‚Üí Different pods respond!</span
              >
            </div>
          </div>

          <div class="success-box">
            <h4 class="font-bold text-green-300 mb-2">
              <i class="fas fa-check-circle mr-2"></i>üî• That is LOAD BALANCING
              LIVE!!!
            </h4>
            <p class="text-slate-300">
              Sometimes Pod1 responds, sometimes Pod2, sometimes Pod3. Load
              Balancer distributes traffic automatically!
            </p>
          </div>
        </div>

        <div class="info-box mt-6">
          <h4 class="font-bold text-cyan-300 mb-3">
            <i class="fas fa-brain mr-2"></i>üß† Mini Concept (Important)
          </h4>
          <p class="text-slate-300">
            <strong>Kubernetes scaling is horizontal scaling:</strong> Adds more
            Pods, not increasing CPU/RAM of one pod.
          </p>
          <p class="text-slate-300 mt-2">
            Your Service automatically load balances. You don't need to change
            anything in Service üëå
          </p>
        </div>
      </section>

      <!-- Auto Scaling -->
      <section class="scale-card p-5 md:p-6 mb-8">
        <h2 class="text-2xl md:text-3xl font-bold text-purple-300 mb-6">
          <i class="fas fa-bolt mr-3"></i>üí• Bonus: Auto Scaling (HPA)
        </h2>

        <div class="code-container">
          <div class="code-text" id="autoScale">
            # Horizontal Pod Autoscaler (HPA) kubectl autoscale deployment
            express-demo-deploy \ --min=1 --max=5 --cpu-percent=50 # Check HPA
            status kubectl get hpa # Watch auto-scaling in action kubectl get
            pods -w
          </div>
          <div class="copy-btn-wrapper">
            <button class="copy-btn no-select" onclick="copyCode('autoScale')">
              <i class="fas fa-copy"></i> Copy
            </button>
          </div>
        </div>

        <div class="terminal-output">
          <div class="terminal-line">
            <span class="terminal-prompt">$</span> kubectl autoscale deployment
            express-demo-deploy --min=1 --max=5 --cpu-percent=50
          </div>
          <div class="terminal-line ml-4 terminal-success">
            horizontalpodautoscaler.autoscaling/express-demo-deploy autoscaled
          </div>
          <div class="terminal-line">
            <span class="terminal-prompt">$</span> kubectl get hpa
          </div>
          <div class="terminal-line ml-4">
            NAME&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;REFERENCE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TARGETS&nbsp;&nbsp;&nbsp;MINPODS&nbsp;&nbsp;MAXPODS&nbsp;&nbsp;REPLICAS&nbsp;&nbsp;AGE
          </div>
          <div class="terminal-line ml-4 terminal-success">
            express-demo-deploy&nbsp;&nbsp;Deployment/express-demo-deploy&nbsp;&nbsp;0%/50%&nbsp;&nbsp;&nbsp;1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;5&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;5s
          </div>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mt-6">
          <div class="p-4 bg-slate-800/50 rounded text-center">
            <div class="text-2xl mb-2">üìà</div>
            <div class="font-bold text-blue-300">CPU Monitoring</div>
            <p class="text-slate-300 text-sm">Watches pod CPU usage</p>
          </div>

          <div class="p-4 bg-slate-800/50 rounded text-center">
            <div class="text-2xl mb-2">‚öñÔ∏è</div>
            <div class="font-bold text-green-300">Auto Decision</div>
            <p class="text-slate-300 text-sm">
              Adds/removes pods automatically
            </p>
          </div>

          <div class="p-4 bg-slate-800/50 rounded text-center">
            <div class="text-2xl mb-2">üè≠</div>
            <div class="font-bold text-purple-300">Production Ready</div>
            <p class="text-slate-300 text-sm">Used in real cloud deployments</p>
          </div>
        </div>

        <div class="success-box mt-6">
          <h4 class="font-bold text-green-300 mb-3">
            <i class="fas fa-star mr-2"></i>That's HPA (Horizontal Pod
            Autoscaler) ‚Äî real production stuff üòé
          </h4>
          <p class="text-slate-300">
            HPA automatically scales your deployment based on CPU usage. If
            traffic increases ‚Üí more pods. If traffic decreases ‚Üí fewer pods.
          </p>
        </div>
      </section>

      <!-- Quick Revision -->
      <section class="scale-card p-5 md:p-6">
        <h2 class="text-2xl md:text-3xl font-bold text-amber-300 mb-6">
          <i class="fas fa-book mr-3"></i>üéØ Quick Revision Like Exam Notes
        </h2>

        <div class="comparison-table">
          <table>
            <thead>
              <tr>
                <th>Action</th>
                <th>Command</th>
                <th>Result</th>
                <th>Best For</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>
                  <span class="font-bold text-green-300">Fast Scale</span>
                </td>
                <td><code>kubectl scale --replicas=3</code></td>
                <td>Immediate scaling</td>
                <td>Quick testing</td>
              </tr>
              <tr>
                <td><span class="font-bold text-blue-300">YAML Scale</span></td>
                <td><code>spec.replicas: 3</code></td>
                <td>Version-controlled</td>
                <td>Production</td>
              </tr>
              <tr>
                <td>
                  <span class="font-bold text-purple-300">Auto Scale</span>
                </td>
                <td><code>kubectl autoscale</code></td>
                <td>Automatic based on CPU</td>
                <td>Cloud production</td>
              </tr>
              <tr>
                <td>
                  <span class="font-bold text-cyan-300">Load Balance</span>
                </td>
                <td><code>type: NodePort</code></td>
                <td>Traffic distribution</td>
                <td>All deployments</td>
              </tr>
            </tbody>
          </table>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mt-6">
          <div class="info-box">
            <h4 class="font-bold text-blue-300 mb-3">
              <i class="fas fa-check-circle mr-2"></i>‚úÖ Key Takeaways
            </h4>
            <ul class="space-y-2 text-slate-300">
              <li class="flex items-start">
                <i class="fas fa-check text-green-400 mt-1 mr-2"></i>
                <span>Horizontal scaling = more pods, not bigger pods</span>
              </li>
              <li class="flex items-start">
                <i class="fas fa-check text-green-400 mt-1 mr-2"></i>
                <span>Service automatically load balances scaled pods</span>
              </li>
              <li class="flex items-start">
                <i class="fas fa-check text-green-400 mt-1 mr-2"></i>
                <span>NodePort for local, LoadBalancer for cloud</span>
              </li>
              <li class="flex items-start">
                <i class="fas fa-check text-green-400 mt-1 mr-2"></i>
                <span>HPA for automatic production scaling</span>
              </li>
            </ul>
          </div>

          <div class="info-box">
            <h4 class="font-bold text-purple-300 mb-3">
              <i class="fas fa-lightbulb mr-2"></i>üí° Pro Tips
            </h4>
            <ul class="space-y-2 text-slate-300">
              <li class="flex items-start">
                <i class="fas fa-rocket text-cyan-300 mt-1 mr-2"></i>
                <span>Use YAML scaling for version control</span>
              </li>
              <li class="flex items-start">
                <i class="fas fa-eye text-amber-300 mt-1 mr-2"></i>
                <span>Watch scaling: <code>kubectl get pods -w</code></span>
              </li>
              <li class="flex items-start">
                <i class="fas fa-balance-scale text-green-300 mt-1 mr-2"></i>
                <span>Test load balancing with multiple browser refreshes</span>
              </li>
              <li class="flex items-start">
                <i class="fas fa-cloud text-blue-300 mt-1 mr-2"></i>
                <span>HPA requires metrics server installed</span>
              </li>
            </ul>
          </div>
        </div>

        <div class="success-box success-animation mt-6">
          <h4 class="font-bold text-green-300 mb-3">
            <i class="fas fa-trophy mr-2"></i>üéâ You've Mastered Kubernetes
            Scaling!
          </h4>
          <p class="text-slate-300">
            From manual scaling to automatic load balancing ‚Äî you now understand
            how to handle traffic like a production DevOps engineer! üöÄ
          </p>
        </div>
      </section>

      <!-- Footer -->
      <footer class="text-center mt-12 mb-8">
        <div class="text-slate-400 mb-4">
          <p class="text-lg">
            You've mastered horizontal scaling and load balancing! üí™
          </p>
          <p class="text-slate-500 text-sm mt-2">
            From single pod to auto-scaling cluster ‚Äî you're production-ready!
            üéØ
          </p>
        </div>

        <div class="flex flex-wrap justify-center gap-4">
          <span class="px-4 py-2 bg-purple-500/20 text-purple-300 rounded-full">
            <i class="fas fa-expand-alt mr-2"></i>Horizontal Scaling
          </span>
          <span class="px-4 py-2 bg-blue-500/20 text-blue-300 rounded-full">
            <i class="fas fa-balance-scale mr-2"></i>Load Balancing
          </span>
          <span class="px-4 py-2 bg-green-500/20 text-green-300 rounded-full">
            <i class="fas fa-bolt mr-2"></i>Auto Scaling (HPA)
          </span>
        </div>

        <div class="mt-6 text-slate-500 text-sm">
          <p>
            Remember: Scale horizontally, balance intelligently, automate
            everything! üîÑ‚ö°
          </p>
        </div>
      </footer>
    </div>

    <script>
      // Copy to clipboard functionality
      function copyCode(elementId) {
        const element = document.getElementById(elementId);
        let text = element.innerText || element.textContent;

        text = text.trim();

        navigator.clipboard
          .writeText(text)
          .then(() => {
            const button =
              element.parentElement.querySelector('.copy-btn') ||
              element.parentElement.parentElement.querySelector('.copy-btn');
            const originalText = button.innerHTML;

            button.innerHTML = '<i class="fas fa-check"></i> Copied!';
            button.classList.add('copied');

            setTimeout(() => {
              button.innerHTML = originalText;
              button.classList.remove('copied');
            }, 2000);
          })
          .catch((err) => {
            console.error('Failed to copy: ', err);
          });
      }

      // Initialize pod cluster visualization
      function initializePodCluster() {
        const podCluster = document.getElementById('podCluster');
        const trafficFlow = document.getElementById('trafficFlow');

        // Create pods
        for (let i = 1; i <= 3; i++) {
          const pod = document.createElement('div');
          pod.className = 'pod-box scale-up';
          pod.style.setProperty('--delay', `${(i - 1) * 0.3}s`);
          pod.innerHTML = `
                    <div class="text-lg mb-1">üì¶</div>
                    <div class="font-bold">Pod ${i}</div>
                    <div class="text-xs">express-demo</div>
                `;
          podCluster.appendChild(pod);
        }

        // Create traffic flow
        createTrafficFlow();
      }

      // Create traffic flow animation
      function createTrafficFlow() {
        const trafficFlow = document.getElementById('trafficFlow');
        trafficFlow.innerHTML = '';

        // Create multiple traffic dots
        for (let i = 0; i < 15; i++) {
          const dot = document.createElement('div');
          dot.className = 'traffic-dot';
          dot.style.left = `${Math.random() * 30}%`;
          dot.style.top = `${Math.random() * 30}%`;
          dot.style.setProperty('--dx', Math.random() * 2 - 1);
          dot.style.setProperty('--dy', Math.random() * 2);
          dot.style.animationDelay = `${i * 0.2}s`;
          dot.style.animationDuration = `${2 + Math.random() * 2}s`;
          trafficFlow.appendChild(dot);
        }
      }

      // Interactive scaling demo
      function scalePods(count) {
        const podScale = document.getElementById('podScale');
        podScale.innerHTML = '';

        // Clear active state from all buttons
        document.querySelectorAll('.demo-btn').forEach((btn) => {
          btn.classList.remove('active');
        });

        // Set active state on clicked button
        event.target.classList.add('active');

        // Create pods
        for (let i = 1; i <= count; i++) {
          const pod = document.createElement('div');
          pod.className = 'pod-item scale-up';
          pod.style.animationDelay = `${(i - 1) * 0.1}s`;
          pod.innerHTML = `
                    <div class="text-sm">Pod ${i}</div>
                    <div class="text-xs">Running</div>
                `;
          podScale.appendChild(pod);
        }

        // Add arrows for visual scaling effect
        if (count > 1) {
          const arrow = document.createElement('div');
          arrow.className = 'scale-arrow';
          arrow.innerHTML = '‚Üí';
          podScale.insertBefore(arrow, podScale.children[1]);
        }

        // Update visualization
        updatePodCluster(count);
      }

      // Update main pod cluster visualization
      function updatePodCluster(count) {
        const podCluster = document.getElementById('podCluster');
        podCluster.innerHTML = '';

        for (let i = 1; i <= count; i++) {
          const pod = document.createElement('div');
          pod.className = 'pod-box scale-up';
          pod.style.setProperty('--delay', `${(i - 1) * 0.2}s`);
          pod.innerHTML = `
                    <div class="text-lg mb-1">üì¶</div>
                    <div class="font-bold">Pod ${i}</div>
                    <div class="text-xs">express-demo</div>
                `;
          podCluster.appendChild(pod);
        }
      }

      // Initialize when page loads
      document.addEventListener('DOMContentLoaded', () => {
        initializePodCluster();

        // Make buttons touch-friendly
        document
          .querySelectorAll('.copy-btn, .demo-btn, button')
          .forEach((btn) => {
            btn.classList.add('touch-target');
          });

        // Start with 3 pods in interactive demo
        scalePods(3);

        // Restart traffic flow animation periodically
        setInterval(createTrafficFlow, 5000);

        // Add syntax highlighting
        const codeElements = document.querySelectorAll('.code-text');
        codeElements.forEach((element) => {
          let code = element.innerHTML;

          // Highlight comments
          code = code.replace(/#.*$/gm, '<span class="code-comment">$&</span>');

          // Highlight kubectl commands
          code = code.replace(
            /\b(kubectl|scale|deployment|replicas|get|pods|autoscale|min|max|cpu-percent)\b/g,
            '<span class="code-keyword">$1</span>',
          );

          // Highlight numbers
          code = code.replace(
            /\b(\d+)\b/g,
            '<span class="code-number">$1</span>',
          );

          // Highlight strings
          code = code.replace(
            /(["'])(?:(?=(\\?))\2.)*?\1/g,
            '<span class="code-string">$&</span>',
          );

          element.innerHTML = code;
        });
      });

      // Add CSS for animations
      const style = document.createElement('style');
      style.textContent = `
            @keyframes fadeIn {
                from { opacity: 0; transform: translateY(20px); }
                to { opacity: 1; transform: translateY(0); }
            }
            
            .fade-in {
                animation: fadeIn 0.6s ease-out;
            }
        `;
      document.head.appendChild(style);
    </script>
  </body>
</html>
