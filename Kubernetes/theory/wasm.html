<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Kubernetes + WebAssembly Master Guide</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <style>
      :root {
        --neon-blue: #00f3ff;
        --neon-green: #00ff9d;
        --neon-purple: #b967ff;
        --neon-orange: #ff6b35;
        --neon-pink: #ff00ff;
        --dark-bg: #0a0a1a;
        --darker-bg: #050510;
      }

      body {
        background: linear-gradient(135deg, var(--darker-bg) 0%, #151530 100%);
        color: #e0e0ff;
        font-family: 'Segoe UI', system-ui, sans-serif;
      }

      .neon-text-blue {
        color: var(--neon-blue);
        text-shadow: 0 0 10px rgba(0, 243, 255, 0.5);
      }

      .neon-text-green {
        color: var(--neon-green);
        text-shadow: 0 0 10px rgba(0, 255, 157, 0.5);
      }

      .neon-text-purple {
        color: var(--neon-purple);
        text-shadow: 0 0 10px rgba(185, 103, 255, 0.5);
      }

      .neon-text-orange {
        color: var(--neon-orange);
        text-shadow: 0 0 10px rgba(255, 107, 53, 0.5);
      }

      .wasm-flow {
        border: 2px solid var(--neon-purple);
        border-radius: 15px;
        padding: 20px;
        background: rgba(185, 103, 255, 0.05);
        margin: 20px 0;
      }

      .flow-arrow {
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 15px 0;
      }

      .arrow {
        color: var(--neon-blue);
        font-size: 2rem;
        margin: 0 10px;
      }

      .code-block {
        background: #1a1a2e;
        border-left: 4px solid var(--neon-green);
        font-family: 'Courier New', monospace;
        padding: 15px;
        border-radius: 8px;
        margin: 15px 0;
      }

      .comparison-table {
        border-collapse: separate;
        border-spacing: 0;
        border-radius: 10px;
        overflow: hidden;
        width: 100%;
      }

      .comparison-table th {
        background: rgba(26, 26, 58, 0.8);
        padding: 15px;
        text-align: left;
      }

      .comparison-table td {
        padding: 12px;
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      }

      .info-box {
        border-left: 4px solid var(--neon-blue);
        background: rgba(0, 243, 255, 0.1);
        padding: 15px;
        border-radius: 8px;
        margin: 15px 0;
      }

      .success-box {
        border-left: 4px solid var(--neon-green);
        background: rgba(0, 255, 157, 0.1);
        padding: 15px;
        border-radius: 8px;
        margin: 15px 0;
      }

      .warning-box {
        border-left: 4px solid var(--neon-orange);
        background: rgba(255, 107, 53, 0.1);
        padding: 15px;
        border-radius: 8px;
        margin: 15px 0;
      }

      .wave-box {
        border: 2px solid;
        border-radius: 10px;
        padding: 20px;
        margin: 10px;
        transition: all 0.3s ease;
      }

      .wave-box:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 25px rgba(0, 243, 255, 0.2);
      }

      .architecture-box {
        background: rgba(26, 26, 58, 0.6);
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: 10px;
        padding: 20px;
        margin: 10px 0;
      }

      .tab-button {
        background: rgba(26, 26, 58, 0.8);
        border: 1px solid var(--neon-blue);
        transition: all 0.3s ease;
        padding: 10px 20px;
        border-radius: 8px;
        cursor: pointer;
      }

      .tab-button.active {
        background: linear-gradient(
          135deg,
          var(--neon-purple) 0%,
          #b967ff 100%
        );
        color: white;
        font-weight: bold;
        box-shadow: 0 0 15px rgba(185, 103, 255, 0.5);
      }

      .tab-content {
        display: none;
        animation: fadeIn 0.5s ease;
      }

      .tab-content.active {
        display: block;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .timeline-box {
        background: linear-gradient(
          135deg,
          rgba(185, 103, 255, 0.1) 0%,
          rgba(0, 243, 255, 0.05) 100%
        );
        border: 2px solid var(--neon-purple);
        border-radius: 10px;
        padding: 20px;
        margin: 20px 0;
      }

      .highlight {
        background: linear-gradient(
          135deg,
          rgba(255, 107, 53, 0.1) 0%,
          rgba(255, 0, 255, 0.05) 100%
        );
        border: 2px solid var(--neon-orange);
        border-radius: 10px;
        padding: 20px;
        margin: 20px 0;
      }

      .security-comparison {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 20px;
        margin: 20px 0;
      }

      .security-box {
        padding: 20px;
        border-radius: 10px;
      }

      .time-scale {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 20px;
        background: rgba(26, 26, 58, 0.6);
        border-radius: 10px;
        margin: 20px 0;
      }

      .time-item {
        text-align: center;
      }

      .pulse {
        animation: pulse 2s infinite;
      }

      @keyframes pulse {
        0%,
        100% {
          opacity: 1;
        }
        50% {
          opacity: 0.7;
        }
      }

      .shim-visual {
        background: linear-gradient(
          135deg,
          rgba(0, 255, 157, 0.1) 0%,
          rgba(0, 243, 255, 0.05) 100%
        );
        border: 2px solid var(--neon-green);
        border-radius: 10px;
        padding: 20px;
        margin: 20px 0;
      }
    </style>
  </head>
  <body class="min-h-screen">
    <!-- Header -->
    <header
      class="sticky top-0 z-50 bg-black/90 backdrop-blur-md border-b border-neon-purple/40"
    >
      <div class="container mx-auto px-4 py-4">
        <div class="flex flex-col md:flex-row justify-between items-center">
          <div class="flex items-center mb-4 md:mb-0">
            <div
              class="w-12 h-12 rounded-xl bg-purple-900/30 flex items-center justify-center mr-4"
            >
              <i class="fab fa-js-square text-2xl neon-text-purple"></i>
            </div>
            <div>
              <h1 class="text-2xl font-bold neon-text-purple">
                Kubernetes + WebAssembly Master Guide
              </h1>
              <p class="text-gray-300">The Next Evolution of Compute</p>
            </div>
          </div>
          <div class="flex space-x-4">
            <button
              onclick="switchTab('basics')"
              id="basicsTab"
              class="tab-button active"
            >
              <i class="fas fa-cube mr-2"></i>Wasm Basics
            </button>
            <button
              onclick="switchTab('architecture')"
              id="architectureTab"
              class="tab-button"
            >
              <i class="fas fa-sitemap mr-2"></i>K8s Architecture
            </button>
            <button
              onclick="switchTab('deployment')"
              id="deploymentTab"
              class="tab-button"
            >
              <i class="fas fa-rocket mr-2"></i>Deployment Guide
            </button>
          </div>
        </div>
      </div>
    </header>

    <main class="container mx-auto px-4 py-8">
      <!-- Basics Tab -->
      <div id="basicsContent" class="tab-content active">
        <!-- The 3 Waves of Compute -->
        <div class="mb-12">
          <div class="flex items-center mb-8">
            <div
              class="w-16 h-16 rounded-full bg-purple-900/30 flex items-center justify-center mr-6"
            >
              <i class="fas fa-waves text-3xl neon-text-purple"></i>
            </div>
            <div>
              <h2 class="text-4xl font-bold neon-text-purple">
                üåä The 3 Waves of Compute
              </h2>
              <p class="text-gray-300 text-xl">
                From VMs to Containers to WebAssembly
              </p>
            </div>
          </div>

          <!-- Timeline Visualization -->
          <div class="timeline-box">
            <div class="time-scale">
              <div class="time-item">
                <div class="text-5xl mb-2">1Ô∏è‚É£</div>
                <h3 class="text-xl font-bold neon-text-orange">
                  Virtual Machines
                </h3>
                <p class="text-sm mt-2">Heavy, slow, full OS</p>
              </div>

              <div class="text-center">
                <i class="fas fa-arrow-right text-2xl neon-text-blue"></i>
              </div>

              <div class="time-item">
                <div class="text-5xl mb-2">2Ô∏è‚É£</div>
                <h3 class="text-xl font-bold neon-text-blue">Containers</h3>
                <p class="text-sm mt-2">Lightweight, shared kernel</p>
              </div>

              <div class="text-center">
                <i class="fas fa-arrow-right text-2xl neon-text-green"></i>
              </div>

              <div class="time-item">
                <div class="text-5xl mb-2">3Ô∏è‚É£</div>
                <h3 class="text-xl font-bold neon-text-green">WebAssembly</h3>
                <p class="text-sm mt-2">Ultra-light, sandboxed</p>
              </div>
            </div>

            <div class="text-center mt-6">
              <div class="inline-block bg-gray-800 px-6 py-3 rounded-lg">
                <p class="font-bold">
                  Each wave = smaller, faster, more portable
                </p>
              </div>
            </div>
          </div>

          <!-- Wave Comparison -->
          <div class="grid md:grid-cols-3 gap-8 mt-8">
            <div class="wave-box border-orange-500">
              <div class="text-center mb-4">
                <div
                  class="w-16 h-16 rounded-full bg-orange-900/30 flex items-center justify-center mx-auto mb-3"
                >
                  <i class="fas fa-server text-2xl neon-text-orange"></i>
                </div>
                <h3 class="text-xl font-bold">Virtual Machines</h3>
              </div>
              <ul class="space-y-2">
                <li class="flex items-center">
                  <i class="fas fa-times text-red-400 mr-2"></i>
                  <span>Full OS per VM</span>
                </li>
                <li class="flex items-center">
                  <i class="fas fa-times text-red-400 mr-2"></i>
                  <span>Minutes to boot</span>
                </li>
                <li class="flex items-center">
                  <i class="fas fa-times text-red-400 mr-2"></i>
                  <span>GBs of memory</span>
                </li>
                <li class="flex items-center">
                  <i class="fas fa-check text-green-400 mr-2"></i>
                  <span>Strong isolation</span>
                </li>
              </ul>
            </div>

            <div class="wave-box border-blue-500">
              <div class="text-center mb-4">
                <div
                  class="w-16 h-16 rounded-full bg-blue-900/30 flex items-center justify-center mx-auto mb-3"
                >
                  <i class="fas fa-box text-2xl neon-text-blue"></i>
                </div>
                <h3 class="text-xl font-bold">Containers</h3>
              </div>
              <ul class="space-y-2">
                <li class="flex items-center">
                  <i class="fas fa-check text-green-400 mr-2"></i>
                  <span>Shared kernel</span>
                </li>
                <li class="flex items-center">
                  <i class="fas fa-check text-green-400 mr-2"></i>
                  <span>Seconds to start</span>
                </li>
                <li class="flex items-center">
                  <i class="fas fa-check text-green-400 mr-2"></i>
                  <span>MBs of memory</span>
                </li>
                <li class="flex items-center">
                  <i class="fas fa-times text-red-400 mr-2"></i>
                  <span>Weaker isolation</span>
                </li>
              </ul>
            </div>

            <div class="wave-box border-green-500">
              <div class="text-center mb-4">
                <div
                  class="w-16 h-16 rounded-full bg-green-900/30 flex items-center justify-center mx-auto mb-3"
                >
                  <i class="fas fa-microchip text-2xl neon-text-green"></i>
                </div>
                <h3 class="text-xl font-bold">WebAssembly</h3>
              </div>
              <ul class="space-y-2">
                <li class="flex items-center">
                  <i class="fas fa-check text-green-400 mr-2"></i>
                  <span>No OS needed</span>
                </li>
                <li class="flex items-center">
                  <i class="fas fa-check text-green-400 mr-2"></i>
                  <span>Milliseconds to start</span>
                </li>
                <li class="flex items-center">
                  <i class="fas fa-check text-green-400 mr-2"></i>
                  <span>KBs of memory</span>
                </li>
                <li class="flex items-center">
                  <i class="fas fa-check text-green-400 mr-2"></i>
                  <span>Sandbox isolation</span>
                </li>
              </ul>
            </div>
          </div>
        </div>

        <!-- What is WebAssembly -->
        <div class="mb-12">
          <h2 class="text-3xl font-bold neon-text-blue mb-6">
            üß† First: What Is WebAssembly Really?
          </h2>

          <div class="info-box">
            <div class="flex items-center mb-4">
              <i class="fas fa-lightbulb text-2xl neon-text-blue mr-3"></i>
              <h3 class="text-xl font-bold">Forget browsers for a second.</h3>
            </div>
            <p class="text-lg mb-4">Wasm is basically:</p>
            <div class="bg-gray-800 p-4 rounded-lg text-center">
              <p class="text-xl font-bold">
                A universal binary format that runs inside a super-secure
                sandbox.
              </p>
            </div>
          </div>

          <div class="grid md:grid-cols-2 gap-8 mt-6">
            <div>
              <div class="bg-gray-800 p-6 rounded-lg">
                <h4 class="text-xl font-bold neon-text-green mb-4">
                  If containers are like:
                </h4>
                <div class="text-center">
                  <div class="inline-block bg-blue-900/30 px-6 py-4 rounded-lg">
                    <p class="font-bold">Lightweight VMs</p>
                  </div>
                </div>
              </div>
            </div>

            <div>
              <div class="bg-gray-800 p-6 rounded-lg">
                <h4 class="text-xl font-bold neon-text-purple mb-4">
                  Wasm is like:
                </h4>
                <div class="text-center">
                  <div
                    class="inline-block bg-purple-900/30 px-6 py-4 rounded-lg"
                  >
                    <p class="font-bold">Tiny ultra-secure micro-containers</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Security Comparison -->
        <div class="mb-12">
          <h2 class="text-3xl font-bold neon-text-orange mb-6">
            üîê Security Difference (Very Important)
          </h2>

          <div class="security-comparison">
            <div class="security-box bg-blue-900/20">
              <h3 class="text-xl font-bold neon-text-blue mb-4">Containers:</h3>
              <div class="space-y-3">
                <div class="flex items-center">
                  <i class="fas fa-lock-open text-blue-400 mr-3"></i>
                  <div>
                    <p class="font-bold">Start with everything open</p>
                  </div>
                </div>
                <div class="flex items-center">
                  <i class="fas fa-ban text-blue-400 mr-3"></i>
                  <div>
                    <p class="font-bold">Then you restrict permissions</p>
                  </div>
                </div>
              </div>
              <div class="mt-6 text-center">
                <div class="inline-block bg-gray-800 px-4 py-2 rounded">
                  <p class="font-bold italic">"Trust but restrict"</p>
                </div>
              </div>
            </div>

            <div class="security-box bg-green-900/20">
              <h3 class="text-xl font-bold neon-text-green mb-4">Wasm:</h3>
              <div class="space-y-3">
                <div class="flex items-center">
                  <i class="fas fa-lock text-green-400 mr-3"></i>
                  <div>
                    <p class="font-bold">Starts with everything locked</p>
                  </div>
                </div>
                <div class="flex items-center">
                  <i class="fas fa-check-circle text-green-400 mr-3"></i>
                  <div>
                    <p class="font-bold">You explicitly allow access</p>
                  </div>
                </div>
              </div>
              <div class="mt-6 text-center">
                <div class="inline-block bg-gray-800 px-4 py-2 rounded">
                  <p class="font-bold italic">
                    "Trust nothing, allow only what's needed"
                  </p>
                </div>
              </div>
            </div>
          </div>

          <div class="warning-box mt-6">
            <div class="flex items-center">
              <i
                class="fas fa-exclamation-triangle text-2xl neon-text-orange mr-3"
              ></i>
              <h3 class="text-xl font-bold">
                That's a huge philosophical shift.
              </h3>
            </div>
          </div>
        </div>

        <!-- Portability Difference -->
        <div class="mb-12">
          <h2 class="text-3xl font-bold neon-text-purple mb-6">
            üåç Portability Difference
          </h2>

          <div class="wasm-flow">
            <div class="flex items-center mb-6">
              <i
                class="fas fa-exclamation-circle text-2xl neon-text-orange mr-3"
              ></i>
              <h3 class="text-xl font-bold">
                Here's something most people don't realize:
              </h3>
            </div>

            <div class="grid md:grid-cols-2 gap-8">
              <div>
                <h4 class="text-xl font-bold neon-text-red mb-4">
                  Containers are NOT truly portable.
                </h4>
                <div class="code-block">
                  <pre>
# This won't work:
Linux/amd64 image ‚Üí ARM machine
Linux/ARM image ‚Üí AMD64 machine</pre
                  >
                </div>
                <p class="mt-4">
                  You need multiple builds for different architectures.
                </p>
              </div>

              <div>
                <h4 class="text-xl font-bold neon-text-green mb-4">
                  Wasm IS truly portable.
                </h4>
                <div class="code-block">
                  <pre>
# This just works:
Build once ‚Üí Run anywhere</pre
                  >
                </div>
                <div class="mt-4 text-center">
                  <div class="inline-block bg-green-900/30 px-4 py-2 rounded">
                    <p class="font-bold">
                      Doesn't care about OS or CPU architecture
                    </p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Performance Difference -->
        <div class="mb-12">
          <h2 class="text-3xl font-bold neon-text-green mb-6">
            ‚ö° Performance Difference
          </h2>

          <div class="time-scale">
            <div class="time-item">
              <div class="text-4xl mb-2">üïí</div>
              <h3 class="font-bold">VM start time</h3>
              <div class="text-2xl font-bold neon-text-orange">minutes</div>
            </div>

            <div class="text-center">
              <i class="fas fa-arrow-right text-2xl neon-text-blue"></i>
            </div>

            <div class="time-item">
              <div class="text-4xl mb-2">‚è±Ô∏è</div>
              <h3 class="font-bold">Container start time</h3>
              <div class="text-2xl font-bold neon-text-blue">seconds</div>
            </div>

            <div class="text-center">
              <i class="fas fa-arrow-right text-2xl neon-text-green"></i>
            </div>

            <div class="time-item">
              <div class="text-4xl mb-2">‚ö°</div>
              <h3 class="font-bold">Wasm start time</h3>
              <div class="text-2xl font-bold neon-text-green">milliseconds</div>
            </div>
          </div>

          <div class="text-center mt-6">
            <div
              class="inline-block bg-green-900/30 px-8 py-4 rounded-lg pulse"
            >
              <p class="text-xl font-bold">Sometimes even microseconds!</p>
            </div>
          </div>

          <div class="mt-8">
            <h4 class="text-xl font-bold neon-text-blue mb-4">
              This is why Wasm is perfect for:
            </h4>
            <div class="grid md:grid-cols-2 gap-4">
              <div class="bg-blue-900/20 p-4 rounded">Serverless</div>
              <div class="bg-green-900/20 p-4 rounded">Edge computing</div>
              <div class="bg-purple-900/20 p-4 rounded">Event handlers</div>
              <div class="bg-orange-900/20 p-4 rounded">Scale-to-zero apps</div>
            </div>
          </div>
        </div>

        <!-- When to Use Wasm -->
        <div class="mb-12">
          <h2 class="text-3xl font-bold neon-text-purple mb-6">
            üéØ When Should You Use Wasm?
          </h2>

          <div class="grid md:grid-cols-2 gap-8">
            <div>
              <h3 class="text-xl font-bold neon-text-green mb-4">
                ‚úÖ Great for:
              </h3>
              <div class="space-y-3">
                <div class="flex items-center bg-green-900/20 p-3 rounded">
                  <i class="fas fa-bolt text-green-400 mr-3"></i>
                  <span>Event-driven workloads</span>
                </div>
                <div class="flex items-center bg-green-900/20 p-3 rounded">
                  <i class="fas fa-cloud text-green-400 mr-3"></i>
                  <span>Serverless functions</span>
                </div>
                <div class="flex items-center bg-green-900/20 p-3 rounded">
                  <i class="fas fa-network-wired text-green-400 mr-3"></i>
                  <span>Edge computing</span>
                </div>
                <div class="flex items-center bg-green-900/20 p-3 rounded">
                  <i class="fas fa-puzzle-piece text-green-400 mr-3"></i>
                  <span>Plugins & Extensions</span>
                </div>
              </div>
            </div>

            <div>
              <h3 class="text-xl font-bold neon-text-orange mb-4">
                ‚ö†Ô∏è Maybe not ideal yet for:
              </h3>
              <div class="space-y-3">
                <div class="flex items-center bg-red-900/20 p-3 rounded">
                  <i class="fas fa-network-wired text-red-400 mr-3"></i>
                  <span>Heavy networking apps</span>
                </div>
                <div class="flex items-center bg-red-900/20 p-3 rounded">
                  <i class="fas fa-sitemap text-red-400 mr-3"></i>
                  <span>Large traditional microservices</span>
                </div>
                <div class="flex items-center bg-red-900/20 p-3 rounded">
                  <i class="fas fa-database text-red-400 mr-3"></i>
                  <span>Complex DB-heavy systems</span>
                </div>
              </div>
              <div class="mt-6 text-center">
                <div class="inline-block bg-gray-800 px-4 py-2 rounded">
                  <p class="font-bold">Containers are still king for those</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Architecture Tab -->
      <div id="architectureContent" class="tab-content">
        <!-- How Wasm Runs in Kubernetes -->
        <div class="mb-12">
          <div class="flex items-center mb-8">
            <div
              class="w-16 h-16 rounded-full bg-blue-900/30 flex items-center justify-center mr-6"
            >
              <i class="fas fa-cogs text-3xl neon-text-blue"></i>
            </div>
            <div>
              <h2 class="text-4xl font-bold neon-text-blue">
                üß† How Does Wasm Run in Kubernetes?
              </h2>
              <p class="text-gray-300 text-xl">
                Understanding the Architecture Layers
              </p>
            </div>
          </div>

          <!-- Normal Container Flow -->
          <div class="wasm-flow">
            <h3 class="text-2xl font-bold neon-text-orange mb-6">
              üì¶ Normally (Containers):
            </h3>

            <div class="text-center space-y-4">
              <div>
                <div class="inline-block bg-gray-800 px-6 py-3 rounded-lg">
                  <p class="font-bold">Kubernetes</p>
                </div>
                <div class="flow-arrow">
                  <i class="arrow fas fa-arrow-down"></i>
                </div>
              </div>

              <div>
                <div class="inline-block bg-blue-900/30 px-6 py-3 rounded-lg">
                  <p class="font-bold">containerd</p>
                </div>
                <div class="flow-arrow">
                  <i class="arrow fas fa-arrow-down"></i>
                </div>
              </div>

              <div>
                <div class="inline-block bg-green-900/30 px-6 py-3 rounded-lg">
                  <p class="font-bold">runc</p>
                </div>
                <div class="flow-arrow">
                  <i class="arrow fas fa-arrow-down"></i>
                </div>
              </div>

              <div>
                <div class="inline-block bg-purple-900/30 px-6 py-3 rounded-lg">
                  <p class="font-bold">Container</p>
                </div>
              </div>
            </div>
          </div>

          <!-- Wasm Flow -->
          <div class="wasm-flow mt-8">
            <h3 class="text-2xl font-bold neon-text-green mb-6">
              ‚ö° Now with Wasm:
            </h3>

            <div class="text-center space-y-4">
              <div>
                <div class="inline-block bg-gray-800 px-6 py-3 rounded-lg">
                  <p class="font-bold">Kubernetes</p>
                </div>
                <div class="flow-arrow">
                  <i class="arrow fas fa-arrow-down"></i>
                </div>
              </div>

              <div>
                <div class="inline-block bg-blue-900/30 px-6 py-3 rounded-lg">
                  <p class="font-bold">containerd</p>
                </div>
                <div class="flow-arrow">
                  <i class="arrow fas fa-arrow-down"></i>
                </div>
              </div>

              <div>
                <div class="inline-block bg-purple-900/30 px-6 py-3 rounded-lg">
                  <p class="font-bold">Wasm shim</p>
                </div>
                <div class="flow-arrow">
                  <i class="arrow fas fa-arrow-down"></i>
                </div>
              </div>

              <div>
                <div class="inline-block bg-green-900/30 px-6 py-3 rounded-lg">
                  <p class="font-bold">Wasm runtime</p>
                </div>
                <div class="flow-arrow">
                  <i class="arrow fas fa-arrow-down"></i>
                </div>
              </div>

              <div>
                <div class="inline-block bg-orange-900/30 px-6 py-3 rounded-lg">
                  <p class="font-bold">Wasm app</p>
                </div>
              </div>
            </div>
          </div>

          <!-- Important Insight -->
          <div class="info-box mt-8">
            <div class="flex items-center">
              <i class="fas fa-lightbulb text-2xl neon-text-blue mr-3"></i>
              <h3 class="text-xl font-bold">Important part:</h3>
            </div>
            <div class="grid md:grid-cols-2 gap-4 mt-4">
              <div class="bg-gray-800 p-4 rounded">
                <p class="font-bold text-center">
                  üëâ Kubernetes does NOT change.
                </p>
              </div>
              <div class="bg-gray-800 p-4 rounded">
                <p class="font-bold text-center">
                  üëâ containerd does NOT change.
                </p>
              </div>
            </div>
            <p class="mt-4 text-center font-bold">
              We only replace <span class="neon-text-purple">runc</span> with a
              <span class="neon-text-green">Wasm shim + runtime</span>.
            </p>
            <p class="text-center mt-2">
              That's why Wasm works cleanly with Kubernetes.
            </p>
          </div>
        </div>

        <!-- What is a Shim? -->
        <div class="mb-12">
          <h2 class="text-3xl font-bold neon-text-purple mb-6">
            üß© What Is a Shim?
          </h2>

          <div class="shim-visual">
            <div class="text-center mb-6">
              <div class="inline-block bg-gray-800 px-6 py-3 rounded-lg">
                <p class="font-bold text-xl">Think of shim as:</p>
                <p class="neon-text-green">
                  A translator between containerd and the runtime
                </p>
              </div>
            </div>

            <div class="grid md:grid-cols-2 gap-8">
              <div>
                <h4 class="text-xl font-bold neon-text-blue mb-4">
                  For containers:
                </h4>
                <div class="code-block">
                  <pre>containerd ‚Üí runc shim ‚Üí container</pre>
                </div>
              </div>

              <div>
                <h4 class="text-xl font-bold neon-text-green mb-4">
                  For Wasm:
                </h4>
                <div class="code-block">
                  <pre>containerd ‚Üí runwasi shim ‚Üí Wasm runtime ‚Üí Wasm app</pre>
                </div>
              </div>
            </div>

            <div class="mt-6">
              <p class="font-bold mb-4">Each Wasm runtime has its own shim:</p>
              <div class="grid grid-cols-2 md:grid-cols-4 gap-2">
                <div class="bg-blue-900/20 p-2 rounded text-center">Spin</div>
                <div class="bg-green-900/20 p-2 rounded text-center">
                  WasmEdge
                </div>
                <div class="bg-purple-900/20 p-2 rounded text-center">
                  Slight
                </div>
                <div class="bg-orange-900/20 p-2 rounded text-center">
                  Others
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- The Scheduling Problem -->
        <div class="mb-12">
          <h2 class="text-3xl font-bold neon-text-orange mb-6">
            üè∑ The Scheduling Problem
          </h2>

          <div class="wasm-flow">
            <div class="mb-6">
              <p class="text-lg mb-4">Now imagine this:</p>
              <div class="grid md:grid-cols-2 gap-6">
                <div class="bg-blue-900/20 p-4 rounded">
                  <p class="font-bold">Node 1</p>
                  <p class="text-sm mt-2">Has WasmEdge runtime</p>
                </div>
                <div class="bg-green-900/20 p-4 rounded">
                  <p class="font-bold">Node 2</p>
                  <p class="text-sm mt-2">Has Spin runtime</p>
                </div>
              </div>
            </div>

            <div class="warning-box">
              <p class="font-bold">
                If you deploy a Wasm app that requires Spin‚Ä¶
              </p>
              <p class="mt-2">Kubernetes must schedule it to Node 2.</p>
            </div>

            <div class="mt-6">
              <h4 class="text-xl font-bold neon-text-blue mb-4">
                How? Two tools:
              </h4>
              <div class="grid md:grid-cols-2 gap-6">
                <div>
                  <div class="bg-gray-800 p-4 rounded">
                    <div class="text-2xl text-center mb-2">1Ô∏è‚É£</div>
                    <h5 class="font-bold text-center">Node labels</h5>
                  </div>
                </div>
                <div>
                  <div class="bg-gray-800 p-4 rounded">
                    <div class="text-2xl text-center mb-2">2Ô∏è‚É£</div>
                    <h5 class="font-bold text-center">RuntimeClass</h5>
                  </div>
                </div>
              </div>
            </div>

            <div class="mt-8">
              <h4 class="text-xl font-bold neon-text-purple mb-4">Example:</h4>
              <div class="space-y-6">
                <div>
                  <p class="font-bold mb-2">Node 2 label:</p>
                  <div class="code-block">
                    <code>spin=yes</code>
                  </div>
                </div>

                <div>
                  <p class="font-bold mb-2">RuntimeClass:</p>
                  <div class="code-block">
                    <pre>
handler: spin
nodeSelector: spin=yes</pre
                    >
                  </div>
                </div>

                <div>
                  <p class="font-bold mb-2">Your Pod says:</p>
                  <div class="code-block">
                    <code>runtimeClassName: spin</code>
                  </div>
                </div>
              </div>

              <div class="text-center mt-6">
                <div
                  class="inline-block bg-green-900/30 px-8 py-4 rounded-lg pulse"
                >
                  <p class="text-2xl font-bold">Boom.</p>
                  <p class="mt-2">Kubernetes schedules it correctly.</p>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Express Analogy -->
        <div class="mb-12">
          <h2 class="text-3xl font-bold neon-text-green mb-6">
            üß† Express Analogy Time
          </h2>

          <div class="grid md:grid-cols-2 gap-8">
            <div>
              <h4 class="text-xl font-bold neon-text-blue mb-4">
                Normal Express container:
              </h4>
              <div class="architecture-box">
                <div class="text-center space-y-4">
                  <div>
                    <div class="inline-block bg-blue-900/30 px-4 py-2 rounded">
                      Docker container
                    </div>
                    <div class="flow-arrow">
                      <i class="arrow fas fa-arrow-down"></i>
                    </div>
                  </div>

                  <div>
                    <div class="inline-block bg-green-900/30 px-4 py-2 rounded">
                      Node runtime
                    </div>
                    <div class="flow-arrow">
                      <i class="arrow fas fa-arrow-down"></i>
                    </div>
                  </div>

                  <div>
                    <div
                      class="inline-block bg-purple-900/30 px-4 py-2 rounded"
                    >
                      Express app
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div>
              <h4 class="text-xl font-bold neon-text-purple mb-4">
                Wasm version:
              </h4>
              <div class="architecture-box">
                <div class="text-center space-y-4">
                  <div>
                    <div
                      class="inline-block bg-purple-900/30 px-4 py-2 rounded"
                    >
                      Wasm runtime
                    </div>
                    <div class="flow-arrow">
                      <i class="arrow fas fa-arrow-down"></i>
                    </div>
                  </div>

                  <div>
                    <div class="inline-block bg-green-900/30 px-4 py-2 rounded">
                      Compiled Express-like app
                      <p class="text-xs">(Rust, Go, etc.)</p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="success-box mt-6">
            <div class="flex items-center">
              <i class="fas fa-bolt text-2xl neon-text-green mr-3"></i>
              <div>
                <p class="font-bold">
                  Except it starts in milliseconds and runs inside a locked
                  sandbox.
                </p>
              </div>
            </div>
          </div>
        </div>

        <!-- Big Picture -->
        <div class="mb-12">
          <h2 class="text-3xl font-bold neon-text-blue mb-6">üöÄ Big Picture</h2>

          <div class="wasm-flow">
            <p class="text-lg mb-6">Wasm on Kubernetes works because:</p>

            <div class="space-y-4">
              <div class="flex items-center bg-gray-800/50 p-3 rounded">
                <i class="fas fa-check-circle text-green-400 mr-3"></i>
                <span>Kubernetes stays unchanged</span>
              </div>

              <div class="flex items-center bg-gray-800/50 p-3 rounded">
                <i class="fas fa-check-circle text-green-400 mr-3"></i>
                <span>containerd stays unchanged</span>
              </div>

              <div class="flex items-center bg-gray-800/50 p-3 rounded">
                <i class="fas fa-exchange-alt text-blue-400 mr-3"></i>
                <span>We swap the low-level runtime</span>
              </div>

              <div class="flex items-center bg-gray-800/50 p-3 rounded">
                <i class="fas fa-tags text-purple-400 mr-3"></i>
                <span>We use RuntimeClass to choose Wasm runtime</span>
              </div>

              <div class="flex items-center bg-gray-800/50 p-3 rounded">
                <i class="fas fa-shield-alt text-orange-400 mr-3"></i>
                <span>Apps run inside secure sandbox</span>
              </div>
            </div>

            <div class="text-center mt-6">
              <div class="inline-block bg-purple-900/30 px-8 py-4 rounded-lg">
                <p class="text-2xl font-bold">That's the magic ‚ú®</p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Deployment Tab -->
      <div id="deploymentContent" class="tab-content">
        <!-- Big Picture -->
        <div class="mb-12">
          <div class="flex items-center mb-8">
            <div
              class="w-16 h-16 rounded-full bg-green-900/30 flex items-center justify-center mr-6"
            >
              <i class="fas fa-eye text-3xl neon-text-green"></i>
            </div>
            <div>
              <h2 class="text-4xl font-bold neon-text-green">
                üéØ Big Picture: What Are We Actually Doing?
              </h2>
              <p class="text-gray-300 text-xl">
                Step-by-Step Wasm Deployment on Kubernetes
              </p>
            </div>
          </div>

          <div class="wasm-flow">
            <div class="text-center mb-6">
              <div class="inline-block bg-gray-800 px-6 py-3 rounded-lg">
                <p class="text-xl font-bold">We are:</p>
              </div>
            </div>

            <div class="grid md:grid-cols-3 gap-6 text-center">
              <div>
                <div class="bg-blue-900/30 p-6 rounded-lg mb-4">
                  <div class="text-4xl mb-3">üõ†Ô∏è</div>
                </div>
                <h4 class="font-bold">Building a Wasm app</h4>
              </div>

              <div>
                <div class="bg-green-900/30 p-6 rounded-lg mb-4">
                  <div class="text-4xl mb-3">üì¶</div>
                </div>
                <h4 class="font-bold">Packaging it like a container</h4>
              </div>

              <div>
                <div class="bg-purple-900/30 p-6 rounded-lg mb-4">
                  <div class="text-4xl mb-3">üéì</div>
                </div>
                <h4 class="font-bold">Teaching Kubernetes to run Wasm</h4>
              </div>
            </div>

            <div class="text-center mt-6">
              <div class="inline-block bg-gray-800 px-6 py-3 rounded-lg">
                <p class="font-bold">That's it.</p>
              </div>
            </div>
          </div>
        </div>

        <!-- Step 1: Write and Compile -->
        <div class="mb-12">
          <h2 class="text-3xl font-bold neon-text-blue mb-6">
            üß† Step 1 ‚Äî Write and Compile the Wasm App
          </h2>

          <div class="space-y-6">
            <div>
              <p class="font-bold mb-2">You used:</p>
              <div class="code-block">
                <code>spin new tkb-wasm -t http-rust</code>
              </div>
              <p class="mt-2 text-sm">That scaffolds a simple HTTP app.</p>
            </div>

            <div>
              <p class="font-bold mb-2">Then:</p>
              <div class="code-block">
                <code>spin build</code>
              </div>
              <p class="mt-2 text-sm">This compiles your Rust code into:</p>
              <div class="code-block text-center">
                <code>tkb_wasm.wasm</code>
              </div>
            </div>

            <div class="info-box">
              <div class="flex items-center">
                <i class="fas fa-lightbulb text-2xl neon-text-blue mr-3"></i>
                <h3 class="text-xl font-bold">üí° Important concept:</h3>
              </div>
              <p class="mt-3">That .wasm file is:</p>
              <div class="grid grid-cols-3 gap-4 mt-3">
                <div class="bg-blue-900/20 p-3 rounded text-center">
                  <p class="font-bold">Architecture independent</p>
                </div>
                <div class="bg-green-900/20 p-3 rounded text-center">
                  <p class="font-bold">OS independent</p>
                </div>
                <div class="bg-purple-900/20 p-3 rounded text-center">
                  <p class="font-bold">Just bytecode</p>
                </div>
              </div>
              <p class="mt-4 text-center font-bold">
                It runs anywhere there's a Wasm runtime.
              </p>
              <p class="text-center mt-2">
                This is the "build once, run anywhere" moment.
              </p>
            </div>
          </div>
        </div>

        <!-- Step 2: Why Dockerfile? -->
        <div class="mb-12">
          <h2 class="text-3xl font-bold neon-text-purple mb-6">
            üì¶ Step 2 ‚Äî Why Are We Using a Dockerfile?
          </h2>

          <div class="wasm-flow">
            <div class="mb-6">
              <div class="flex items-center">
                <i
                  class="fas fa-question-circle text-2xl neon-text-orange mr-3"
                ></i>
                <h3 class="text-xl font-bold">Excellent question.</h3>
              </div>
            </div>

            <div class="space-y-6">
              <div>
                <p class="font-bold mb-2">
                  Kubernetes only understands OCI images.
                </p>
                <p>
                  So even though Wasm doesn't need Linux containers, Kubernetes
                  still needs:
                </p>
                <div class="grid md:grid-cols-3 gap-4 mt-3">
                  <div class="bg-gray-800 p-3 rounded text-center">
                    An image
                  </div>
                  <div class="bg-gray-800 p-3 rounded text-center">
                    Stored in registry
                  </div>
                  <div class="bg-gray-800 p-3 rounded text-center">
                    Pulled by containerd
                  </div>
                </div>
              </div>

              <div>
                <p class="font-bold mb-2">
                  So we wrap the .wasm binary inside an OCI image.
                </p>
              </div>

              <div>
                <h4 class="text-xl font-bold neon-text-green mb-4">
                  The Dockerfile (Important Insight)
                </h4>
                <div class="code-block">
                  <pre>
FROM scratch
COPY tkb_wasm.wasm .
COPY spin.toml .</pre
                  >
                </div>

                <div class="success-box mt-4">
                  <p class="font-bold mb-2">Key idea:</p>
                  <p><code>FROM scratch</code> means:</p>
                  <ul class="mt-2 space-y-1">
                    <li class="flex items-center">
                      <i class="fas fa-times text-red-400 mr-2"></i>
                      <span>No Linux base image</span>
                    </li>
                    <li class="flex items-center">
                      <i class="fas fa-times text-red-400 mr-2"></i>
                      <span>No filesystem</span>
                    </li>
                    <li class="flex items-center">
                      <i class="fas fa-times text-red-400 mr-2"></i>
                      <span>No shell</span>
                    </li>
                    <li class="flex items-center">
                      <i class="fas fa-times text-red-400 mr-2"></i>
                      <span>No OS</span>
                    </li>
                  </ul>
                  <p class="mt-3">Just your Wasm binary.</p>
                </div>

                <div class="mt-4">
                  <p class="font-bold">
                    That's why the image size is ~600KB instead of 50MB.
                  </p>
                  <p class="text-sm mt-1">
                    This is dramatically smaller than even Alpine containers.
                  </p>
                </div>
              </div>

              <div>
                <h4 class="text-xl font-bold neon-text-blue mb-4">
                  ‚ö° Why --platform wasi/wasm Matters
                </h4>
                <div class="code-block">
                  <code>docker build --platform wasi/wasm</code>
                </div>
                <p class="mt-3">This tells Docker:</p>
                <div class="grid md:grid-cols-2 gap-4 mt-3">
                  <div class="bg-red-900/20 p-3 rounded">
                    <p class="font-bold">This image is NOT</p>
                    <p>Linux/amd64</p>
                  </div>
                  <div class="bg-green-900/20 p-3 rounded">
                    <p class="font-bold">This is a</p>
                    <p>Wasm workload</p>
                  </div>
                </div>
                <div class="warning-box mt-4">
                  <p class="font-bold">
                    This metadata is how containerd later knows:
                  </p>
                  <div class="code-block mt-2">
                    <code
                      >"Oh. I need to use a Wasm shim instead of runc."</code
                    >
                  </div>
                  <p class="mt-2">This is critical.</p>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Workflow Mapping -->
        <div class="mb-12">
          <h2 class="text-3xl font-bold neon-text-orange mb-6">
            üß† Where We Are in the Workflow
          </h2>

          <div class="wasm-flow">
            <h3 class="text-xl font-bold neon-text-green mb-4">
              ‚úÖ Completed So Far
            </h3>
            <div class="space-y-3">
              <div class="flex items-center">
                <i class="fas fa-check-circle text-green-400 mr-3"></i>
                <span>Write Wasm app</span>
              </div>
              <div class="flex items-center">
                <i class="fas fa-check-circle text-green-400 mr-3"></i>
                <span>Compile to Wasm binary</span>
              </div>
              <div class="flex items-center">
                <i class="fas fa-check-circle text-green-400 mr-3"></i>
                <span>Package as OCI image</span>
              </div>
              <div class="flex items-center">
                <i class="fas fa-check-circle text-green-400 mr-3"></i>
                <span>Push to registry</span>
              </div>
            </div>

            <div class="mt-6">
              <h3 class="text-xl font-bold neon-text-blue mb-4">
                ‚è≠Ô∏è Next steps (cluster side):
              </h3>
              <div class="space-y-3">
                <div class="flex items-center">
                  <i class="fas fa-download text-blue-400 mr-3"></i>
                  <span>Install Wasm shim</span>
                </div>
                <div class="flex items-center">
                  <i class="fas fa-cogs text-blue-400 mr-3"></i>
                  <span>Create RuntimeClass</span>
                </div>
                <div class="flex items-center">
                  <i class="fas fa-rocket text-blue-400 mr-3"></i>
                  <span>Deploy Pod referencing RuntimeClass</span>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Runtime Flow -->
        <div class="mb-12">
          <h2 class="text-3xl font-bold neon-text-purple mb-6">
            üîÑ How It Will Work at Runtime
          </h2>

          <div class="wasm-flow">
            <p class="mb-4">When Kubernetes deploys the Pod:</p>

            <div class="space-y-4">
              <div class="flex items-center">
                <div
                  class="w-8 h-8 rounded-full bg-blue-900 flex items-center justify-center mr-3"
                >
                  1
                </div>
                <div>
                  <p class="font-bold">Scheduler sends Pod to node</p>
                </div>
              </div>

              <div class="flex items-center">
                <div
                  class="w-8 h-8 rounded-full bg-green-900 flex items-center justify-center mr-3"
                >
                  2
                </div>
                <div>
                  <p class="font-bold">kubelet tells containerd to start it</p>
                </div>
              </div>

              <div class="flex items-center">
                <div
                  class="w-8 h-8 rounded-full bg-purple-900 flex items-center justify-center mr-3"
                >
                  3
                </div>
                <div>
                  <p class="font-bold">containerd checks RuntimeClass</p>
                </div>
              </div>

              <div class="flex items-center">
                <div
                  class="w-8 h-8 rounded-full bg-orange-900 flex items-center justify-center mr-3"
                >
                  4
                </div>
                <div>
                  <p class="font-bold">
                    containerd uses Wasm shim instead of runc
                  </p>
                </div>
              </div>

              <div class="flex items-center">
                <div
                  class="w-8 h-8 rounded-full bg-red-900 flex items-center justify-center mr-3"
                >
                  5
                </div>
                <div>
                  <p class="font-bold">Wasm runtime executes .wasm binary</p>
                </div>
              </div>
            </div>

            <div class="info-box mt-6">
              <div class="flex items-center">
                <i class="fas fa-eye text-2xl neon-text-blue mr-3"></i>
                <h3 class="text-xl font-bold">
                  Kubernetes doesn't even know it's Wasm.
                </h3>
              </div>
              <p class="mt-2">It just sees:</p>
              <div class="code-block text-center">
                <code>"Pod is running."</code>
              </div>
              <p class="mt-2 text-center font-bold">
                That abstraction is powerful.
              </p>
            </div>
          </div>
        </div>

        <!-- Key Architectural Insight -->
        <div class="mb-12">
          <h2 class="text-3xl font-bold neon-text-green mb-6">
            üß† The Key Architectural Insight
          </h2>

          <div class="wasm-flow">
            <div class="text-center mb-6">
              <div class="inline-block bg-gray-800 px-6 py-3 rounded-lg">
                <p class="text-xl font-bold">
                  Kubernetes doesn't run containers.
                </p>
              </div>
              <div class="flow-arrow">
                <i class="arrow fas fa-arrow-down"></i>
              </div>
              <div class="inline-block bg-gray-800 px-6 py-3 rounded-lg">
                <p class="text-xl font-bold">It runs workloads.</p>
              </div>
            </div>

            <div class="grid md:grid-cols-3 gap-6 mt-6">
              <div class="text-center">
                <div class="bg-blue-900/30 p-4 rounded-lg">
                  <p class="font-bold">It delegates execution to containerd.</p>
                </div>
              </div>

              <div class="text-center">
                <div class="flow-arrow">
                  <i class="arrow fas fa-arrow-down text-2xl"></i>
                </div>
              </div>

              <div class="text-center">
                <div class="bg-green-900/30 p-4 rounded-lg">
                  <p class="font-bold">And containerd can delegate to:</p>
                </div>
              </div>
            </div>

            <div class="grid md:grid-cols-3 gap-4 mt-6">
              <div class="bg-blue-900/20 p-4 rounded text-center">
                <p class="font-bold">runc</p>
                <p class="text-sm">Linux containers</p>
              </div>
              <div class="bg-green-900/20 p-4 rounded text-center">
                <p class="font-bold">runwasi</p>
                <p class="text-sm">Wasm workloads</p>
              </div>
              <div class="bg-purple-900/20 p-4 rounded text-center">
                <p class="font-bold">Any compatible runtime</p>
              </div>
            </div>

            <div class="text-center mt-6">
              <div class="inline-block bg-gray-800 px-6 py-3 rounded-lg">
                <p class="font-bold">That's clean system design.</p>
              </div>
            </div>
          </div>
        </div>

        <!-- Express Version Explanation -->
        <div class="mb-12">
          <h2 class="text-3xl font-bold neon-text-blue mb-6">
            üéØ What Are We Doing Here (Express Version)
          </h2>

          <div class="highlight">
            <div class="flex items-center mb-4">
              <i class="fas fa-brain text-2xl neon-text-blue mr-3"></i>
              <h3 class="text-xl font-bold">Imagine this:</h3>
            </div>

            <div class="space-y-4">
              <p>You built a new type of app.</p>

              <div class="grid md:grid-cols-2 gap-6">
                <div class="bg-gray-800 p-4 rounded">
                  <p class="font-bold mb-2">Instead of:</p>
                  <div class="code-block">
                    <code>node server.js</code>
                  </div>
                </div>

                <div class="bg-gray-800 p-4 rounded">
                  <p class="font-bold mb-2">It's:</p>
                  <div class="code-block">
                    <code>tkb_wasm.wasm</code>
                  </div>
                </div>
              </div>

              <div class="warning-box">
                <p>And Kubernetes doesn't know how to run .wasm files.</p>
              </div>

              <div class="success-box">
                <p class="font-bold">So we must teach Kubernetes:</p>
                <div class="code-block mt-2">
                  <code
                    >"Hey, for this special app, don't use normal Docker
                    runtime. Use this new Wasm engine instead."</code
                  >
                </div>
                <p class="mt-2 text-center font-bold">
                  That's ALL this section is doing.
                </p>
              </div>
            </div>
          </div>
        </div>

        <!-- Cluster Setup Steps -->
        <div class="mb-12">
          <h2 class="text-3xl font-bold neon-text-purple mb-6">
            üß† Step 1 ‚Äî Build Special Kubernetes Cluster
          </h2>

          <div class="wasm-flow">
            <div class="grid md:grid-cols-2 gap-8">
              <div>
                <h4 class="text-xl font-bold neon-text-orange mb-4">
                  Normal cluster runs:
                </h4>
                <div class="code-block">
                  <pre>containerd ‚Üí runc ‚Üí Linux container</pre>
                </div>
              </div>

              <div>
                <h4 class="text-xl font-bold neon-text-green mb-4">
                  But Wasm needs:
                </h4>
                <div class="code-block">
                  <pre>containerd ‚Üí spin shim ‚Üí Wasm runtime ‚Üí Wasm app</pre>
                </div>
              </div>
            </div>

            <div class="mt-6">
              <p>So we create a special k3d cluster that already has:</p>
              <div class="code-block text-center">
                <code>containerd-shim-spin-v1</code>
              </div>
              <p class="mt-2 text-center">installed.</p>
            </div>

            <div class="info-box mt-4">
              <p class="font-bold">
                Think of it like installing a new Node version manager on one
                machine.
              </p>
            </div>
          </div>
        </div>

        <!-- Runtime Check -->
        <div class="mb-12">
          <h2 class="text-3xl font-bold neon-text-green mb-6">
            üß± Step 2 ‚Äî Check If Runtime Exists
          </h2>

          <div class="wasm-flow">
            <p>When you did:</p>
            <div class="code-block">
              <code>ls /bin | grep shim</code>
            </div>

            <p class="mt-4">You saw:</p>
            <div class="code-block text-center">
              <code>containerd-shim-spin-v1</code>
            </div>

            <div class="success-box mt-4">
              <div class="flex items-center">
                <i
                  class="fas fa-check-circle text-2xl neon-text-green mr-3"
                ></i>
                <div>
                  <p class="font-bold">That means:</p>
                  <p>üü¢ This node knows how to run Wasm.</p>
                </div>
              </div>
            </div>

            <div class="warning-box mt-4">
              <p class="font-bold">
                But Kubernetes scheduler does NOT automatically know which node
                supports Wasm.
              </p>
              <p class="mt-2">So we help it.</p>
            </div>
          </div>
        </div>

        <!-- Node Labeling -->
        <div class="mb-12">
          <h2 class="text-3xl font-bold neon-text-blue mb-6">
            üè∑ Step 3 ‚Äî Label the Node
          </h2>

          <div class="wasm-flow">
            <p>This command:</p>
            <div class="code-block">
              <code>kubectl label nodes k3d-wasm-agent-1 wasm=yes</code>
            </div>

            <div class="info-box mt-4">
              <p class="text-center font-bold">Is basically saying:</p>
              <div class="code-block mt-2 text-center">
                <code>"This machine supports Wasm."</code>
              </div>
            </div>

            <div class="mt-6">
              <h4 class="text-xl font-bold neon-text-purple mb-4">
                Express analogy:
              </h4>
              <div class="grid md:grid-cols-2 gap-6">
                <div class="bg-gray-800 p-4 rounded">
                  <p>Imagine you have 2 servers:</p>
                  <div class="space-y-2 mt-2">
                    <div class="flex items-center">
                      <i class="fas fa-server text-green-400 mr-2"></i>
                      <span>Server A ‚Üí Node.js installed</span>
                    </div>
                    <div class="flex items-center">
                      <i class="fas fa-server text-red-400 mr-2"></i>
                      <span>Server B ‚Üí No Node.js</span>
                    </div>
                  </div>
                </div>

                <div class="bg-gray-800 p-4 rounded">
                  <p>You label:</p>
                  <div class="code-block mt-2">
                    <code>Server A ‚Üí nodejs=yes</code>
                  </div>
                  <p class="mt-2 text-sm">
                    So your deployment system knows where to run JS apps.
                  </p>
                </div>
              </div>
              <p class="mt-4 text-center">Same concept.</p>
            </div>
          </div>
        </div>

        <!-- RuntimeClass Creation -->
        <div class="mb-12">
          <h2 class="text-3xl font-bold neon-text-orange mb-6">
            üéõ Step 4 ‚Äî Create RuntimeClass
          </h2>

          <div class="wasm-flow">
            <div class="info-box">
              <p class="font-bold text-center">This is the important part.</p>
            </div>

            <div class="code-block">
              <pre>
kind: RuntimeClass
name: rc-spin
handler: spin
nodeSelector:
  wasm: "yes"</pre
              >
            </div>

            <div class="grid md:grid-cols-2 gap-6 mt-6">
              <div class="bg-blue-900/20 p-4 rounded">
                <div class="text-2xl text-center mb-2">1Ô∏è‚É£</div>
                <p class="font-bold text-center">Tells Kubernetes:</p>
                <p class="text-center text-sm">
                  Only schedule this Pod on nodes with wasm=yes
                </p>
              </div>

              <div class="bg-green-900/20 p-4 rounded">
                <div class="text-2xl text-center mb-2">2Ô∏è‚É£</div>
                <p class="font-bold text-center">Tells containerd:</p>
                <p class="text-center text-sm">
                  Use the "spin" runtime instead of normal runc
                </p>
              </div>
            </div>
          </div>
        </div>

        <!-- The Magic Part -->
        <div class="mb-12">
          <h2 class="text-3xl font-bold neon-text-green mb-6">
            üöÄ Now The Magic Part
          </h2>

          <div class="wasm-flow">
            <p>In your Deployment YAML:</p>
            <div class="code-block">
              <pre>
spec:
  runtimeClassName: rc-spin</pre
              >
            </div>

            <div class="info-box mt-4">
              <p class="text-center font-bold">This is like telling Express:</p>
              <div class="grid md:grid-cols-2 gap-4 mt-2">
                <div class="bg-gray-800 p-3 rounded text-center">
                  <code>app.use(wasmEngine)</code>
                </div>
                <div class="bg-gray-800 p-3 rounded text-center">
                  <p>Instead of:</p>
                  <code>app.use(defaultEngine)</code>
                </div>
              </div>
              <p class="mt-2 text-center">You're switching execution engine.</p>
            </div>

            <div class="text-center mt-4">
              <div class="inline-block bg-gray-800 px-6 py-3 rounded-lg">
                <p class="font-bold">That's it.</p>
              </div>
            </div>
          </div>
        </div>

        <!-- What Happens on Deploy -->
        <div class="mb-12">
          <h2 class="text-3xl font-bold neon-text-purple mb-6">
            üîÑ What Happens When You Deploy
          </h2>

          <div class="wasm-flow">
            <p>When you run:</p>
            <div class="code-block">
              <code>kubectl apply app.yml</code>
            </div>

            <div class="space-y-6 mt-6">
              <div>
                <div class="flex items-center">
                  <div
                    class="w-8 h-8 rounded-full bg-blue-900 flex items-center justify-center mr-3"
                  >
                    1
                  </div>
                  <div>
                    <p class="font-bold">Scheduler sees:</p>
                    <div class="code-block mt-1">
                      <code>runtimeClassName: rc-spin</code>
                    </div>
                    <p class="text-sm mt-1">So it checks RuntimeClass.</p>
                  </div>
                </div>
              </div>

              <div>
                <div class="flex items-center">
                  <div
                    class="w-8 h-8 rounded-full bg-green-900 flex items-center justify-center mr-3"
                  >
                    2
                  </div>
                  <div>
                    <p class="font-bold">RuntimeClass says:</p>
                    <div class="code-block mt-1">
                      <code>Only run on nodes with wasm=yes</code>
                    </div>
                    <p class="text-sm mt-1">
                      So it schedules to: <code>k3d-wasm-agent-1</code>
                    </p>
                  </div>
                </div>
              </div>

              <div>
                <div class="flex items-center">
                  <div
                    class="w-8 h-8 rounded-full bg-purple-900 flex items-center justify-center mr-3"
                  >
                    3
                  </div>
                  <div>
                    <p class="font-bold">containerd sees:</p>
                    <div class="code-block mt-1">
                      <code>handler: spin</code>
                    </div>
                    <p class="text-sm mt-1">
                      So instead of: <code>containerd ‚Üí runc</code>
                    </p>
                    <p class="text-sm">
                      It does: <code>containerd ‚Üí spin shim</code>
                    </p>
                  </div>
                </div>
              </div>

              <div>
                <div class="flex items-center">
                  <div
                    class="w-8 h-8 rounded-full bg-orange-900 flex items-center justify-center mr-3"
                  >
                    4
                  </div>
                  <div>
                    <p class="font-bold">spin shim runs:</p>
                    <div class="code-block mt-1">
                      <code>tkb_wasm.wasm</code>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div class="text-center mt-6">
              <div
                class="inline-block bg-green-900/30 px-8 py-4 rounded-lg pulse"
              >
                <p class="text-2xl font-bold">Boom.</p>
                <p class="mt-2">App is running.</p>
              </div>
            </div>
          </div>
        </div>

        <!-- Networking Works Normally -->
        <div class="mb-12">
          <h2 class="text-3xl font-bold neon-text-blue mb-6">
            üåê Networking Still Works Normally
          </h2>

          <div class="wasm-flow">
            <p class="text-center mb-4">Nothing changes here.</p>

            <div class="text-center space-y-4">
              <div>
                <div class="inline-block bg-gray-800 px-4 py-2 rounded">
                  Ingress ‚Üí Service ‚Üí Pod
                </div>
              </div>

              <div class="flow-arrow">
                <i class="arrow fas fa-arrow-down"></i>
              </div>

              <div>
                <p class="font-bold">Just like Express:</p>
                <div class="code-block">
                  <pre>
Browser ‚Üí LoadBalancer ‚Üí Ingress ‚Üí Service ‚Üí Wasm Pod</pre
                  >
                </div>
              </div>

              <div class="flow-arrow">
                <i class="arrow fas fa-arrow-down"></i>
              </div>

              <div>
                <p>You curl:</p>
                <div class="code-block">
                  <code>curl http://localhost:5005/tkb</code>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>
  </body>
</html>
